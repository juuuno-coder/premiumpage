<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMT Global Tech Catalog | Masterpiece Edition</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Michroma&family=Rajdhani:wght@400;500;600;700&family=Syncopate:wght@700&display=swap" rel="stylesheet">
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <style>
        /* ==================== 1. VARIABLES & RESET - THEME SYSTEM ==================== */
        :root {
            /* Font Variables (Shared) */
            --font-head: 'Syncopate', sans-serif;
            --font-sub: 'Michroma', sans-serif;
            --font-body: 'Rajdhani', sans-serif;
        }
        
        /* Dark Theme (Default) */
        body {
            --bg-deep: #050505;
            --bg-secondary: #1a1a1a;
            --neon-green: #00ff88;
            --neon-cyan: #00ffff;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --text-muted: #888888;
            --glass-bg: rgba(20, 20, 20, 0.65);
            --glass-bg-alt: rgba(30, 30, 30, 0.5);
            --border: rgba(255, 255, 255, 0.2);
            --border-light: rgba(255, 255, 255, 0.1);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.4);
            --shadow-md: 0 4px 20px rgba(0,0,0,0.5);
            --shadow-lg: 0 10px 40px rgba(0,0,0,0.6);
            --topbar-bg: linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%);
            --submenu-bg: rgba(10,10,10,0.95);
            --mobile-nav-bg: rgba(5,5,5,0.98);
            --vignette-bg: radial-gradient(circle, transparent 50%, rgba(0,0,0,0.85) 100%);
            --logo-filter: grayscale(100%) brightness(1.2) contrast(0.9);
            --slide-bg: transparent;
            --hud-bg: rgba(0,0,0,0.5);
            --hud-text: #aaa;
            --hud-text-active: #fff;
            --bg-img-filter: brightness(0.4);
        }
        
        /* Light Theme - Airy & Premium Polish */
        body.light-mode {
            --bg-deep: #f4f7f9;
            --bg-secondary: #ffffff;
            --neon-green: #10ac84;
            --neon-cyan: #0984e3;
            --accent-warm: #e17055;
            --text-primary: #2d3436;
            --text-secondary: #636e72;
            --text-muted: #b2bec3;
            --glass-bg: rgba(255, 255, 255, 0.9);
            --glass-bg-alt: rgba(255, 255, 255, 0.85);
            --border: rgba(0, 121, 255, 0.15);
            --border-light: rgba(0, 121, 255, 0.08);
            --shadow-sm: 0 4px 10px rgba(0,0,0,0.04);
            --shadow-md: 0 10px 30px rgba(0,121,255,0.08);
            --shadow-lg: 0 20px 50px rgba(0,121,255,0.12);
            --topbar-bg: rgba(255, 255, 255, 0.98);
            --submenu-bg: #fff;
            --mobile-nav-bg: #fff;
            --vignette-bg: radial-gradient(circle at 10% 10%, rgba(33, 179, 114, 0.04) 0%, transparent 50%), 
                           radial-gradient(circle at 90% 90%, rgba(9, 132, 227, 0.04) 0%, transparent 50%);
            --logo-filter: none;
            --slide-bg: transparent;
            --hud-bg: rgba(255, 255, 255, 0.9);
            --hud-text: #64748b;
            --hud-text-active: #0f172a;
            --bg-img-filter: contrast(0.8) brightness(1.7) opacity(0.2) grayscale(0.6);
        }
        
        /* Light Mode - Special Background */
        body.light-mode {
            background: linear-gradient(135deg, #e8f4f8 0%, #f0f7fa 50%, #f5f9fc 100%);
        }
        
        /* Light Mode - Hide WebGL */
        /* Light Mode - WebGL Visible (Color adjusted in JS) */
        body.light-mode #webgl-container {
            /* display set by JS or default block */
            display: block; 
        }

        * { margin: 0; padding: 0; box-sizing: border-box; user-select: auto; }
        a { text-decoration: none; color: inherit; }
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--text-muted); border-radius: 2px; }

        body {
            background: var(--bg-deep); color: var(--text-primary);
            font-family: var(--font-body);
            font-size: 16px;
            overflow: hidden; width: 100vw; height: 100vh;
            transition: background 0.5s ease, color 0.5s ease;
        }
        
        /* ==================== THEME TOGGLE BUTTON ==================== */
        /* Moved to bottom-left, near HUD but not overlapping */
        .theme-toggle {
            position: fixed;
            bottom: 20px;
            left: 30px;
            z-index: 200;
            width: 56px;
            height: 28px;
            background: var(--hud-bg);
            border: 1px solid var(--border);
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            padding: 3px;
            box-shadow: var(--shadow-md);
        }
        .theme-toggle::before {
            content: '🌙';
            position: absolute;
            left: 8px;
            font-size: 13px;
            opacity: 0.7;
        }
        .theme-toggle::after {
            content: '☀️';
            position: absolute;
            right: 8px;
            font-size: 13px;
            opacity: 0.7;
        }
        .theme-toggle .toggle-ball {
            width: 22px;
            height: 22px;
            background: var(--neon-cyan);
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.25);
            z-index: 1;
        }
        body.light-mode .theme-toggle .toggle-ball {
            transform: translateX(28px);
            background: var(--neon-green);
        }
        .theme-toggle:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }
        
        @media (max-width: 1100px) {
            .theme-toggle {
                bottom: 100px;
                left: 20px;
                width: 48px;
                height: 24px;
            }
            .theme-toggle .toggle-ball {
                width: 18px;
                height: 18px;
            }
            body.light-mode .theme-toggle .toggle-ball {
                transform: translateX(24px);
            }
            .theme-toggle::before,
            .theme-toggle::after {
                display: none;
            }
        }
        
        /* ==================== THEME-AWARE UTILITY CLASSES ==================== */
        /* Override inline white/dark colors in light mode */
        body.light-mode [style*="color: white"],
        body.light-mode [style*="color:white"] {
            color: var(--text-primary) !important;
        }
        body.light-mode [style*="color: #aaa"],
        body.light-mode [style*="color:#aaa"] {
            color: var(--text-secondary) !important;
        }
        body.light-mode [style*="color: #ddd"],
        body.light-mode [style*="color:#ddd"] {
            color: var(--text-secondary) !important;
        }
        body.light-mode [style*="color: #888"],
        body.light-mode [style*="color:#888"] {
            color: var(--text-muted) !important;
        }
        body.light-mode [style*="color: #777"],
        body.light-mode [style*="color:#777"] {
            color: var(--text-muted) !important;
        }
        body.light-mode [style*="color: #ccc"],
        body.light-mode [style*="color:#ccc"] {
            color: var(--text-secondary) !important;
        }
        body.light-mode [style*="color: #eee"],
        body.light-mode [style*="color:#eee"] {
            color: var(--text-primary) !important;
        }
        /* Background overrides for light mode */
        body.light-mode [style*="background: rgba(0,0,0"],
        body.light-mode [style*="background:rgba(0,0,0"] {
            background: var(--glass-bg) !important;
        }
        body.light-mode [style*="background: rgba(255,255,255,0.03)"],
        body.light-mode [style*="background: rgba(255,255,255,0.05)"],
        body.light-mode [style*="background:rgba(255,255,255,0.03)"] {
            background: var(--glass-bg) !important;
        }
        body.light-mode [style*="border: 1px solid #444"],
        body.light-mode [style*="border:1px solid #444"] {
            border-color: var(--border) !important;
        }
        body.light-mode [style*="border-bottom: 1px solid rgba(255,255,255"] {
            border-color: var(--border-light) !important;
        }
        
        /* Slide inner content text colors for light mode */
        body.light-mode .slide h1,
        body.light-mode .slide h2,
        body.light-mode .slide h3,
        body.light-mode .slide h4 {
            color: var(--text-primary) !important;
        }
        body.light-mode .glass-box,
        body.light-mode .glass-box * {
            transition: color 0.5s ease, background 0.5s ease, border-color 0.5s ease;
        }
        /* Light mode glass box enhancements */
        body.light-mode .glass-box {
            background: rgba(255, 255, 255, 0.7) !important;
            border-color: var(--border) !important;
        }
        /* Force ALL inline white text in slides to dark in light mode */
        body.light-mode .slide [style*="color: white"],
        body.light-mode .slide [style*="color:white"],
        body.light-mode .slide [style*="color: #fff"],
        body.light-mode .slide [style*="color:#fff"] {
            color: var(--text-primary) !important;
        }
        /* Mobility Tabs Light Mode */
        body.light-mode .mob-tab-head { color: var(--text-muted) !important; }
        body.light-mode .mob-tab.active .mob-tab-head { color: var(--text-primary) !important; }
        body.light-mode .mob-tab-body { color: var(--text-secondary) !important; }
        
        /* ESG New Container Light Mode */
        body.light-mode .esg-pic { border-color: var(--border) !important; }
        body.light-mode .esg-content .esg-title { color: var(--neon-cyan) !important; }
        body.light-mode .esg-content .esg-title[style*="var(--neon-green)"] { color: var(--neon-green) !important; }
        /* Partner Card Light Mode - Fixed Visibility */
        body.light-mode .partner-card { 
            background: #fff !important; 
            border-color: rgba(0,0,0,0.05) !important; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05) !important;
        }
        body.light-mode .partner-card img { filter: invert(1) grayscale(100%) opacity(0.8) !important; }
        body.light-mode .partner-card:hover img { filter: invert(1) grayscale(0%) opacity(1) !important; }

        
        /* Glass Box Text Colors - Re-added for explicit theme support */
        body.light-mode .glass-box td,
        body.light-mode .glass-box th,
        body.light-mode .glass-box p,
        body.light-mode .glass-box span:not(.diagram-text *) {
            color: var(--text-primary) !important;
        }
        body.light-mode .glass-box th { color: var(--neon-cyan) !important; }
        
        /* Global Slide Text Fixes */
        body.light-mode .slide p,
        body.light-mode .slide span:not(.slide-tag):not(.diagram-text *) { color: var(--text-secondary); }

        /* Mobility Slide: Restored Premium Dark Boxes for Contrast */
        body.light-mode .diagram-item-row {
            background: rgba(15, 25, 35, 0.95) !important;
            border: 1px solid rgba(255,255,255,0.1) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2) !important;
        }
        body.light-mode .diagram-text,
        body.light-mode .diagram-text * {
            color: #fff !important;
        }
        body.light-mode .diagram-text p { color: #ccc !important; }
        body.light-mode .diagram-item-row h4 { color: #fff !important; font-weight: 700; }
        body.light-mode .diagram-item-row:hover h4 { color: var(--neon-green) !important; }
        body.light-mode .diagram-line { stroke: rgba(0,0,0,0.2) !important; }
        body.light-mode .diagramSvg circle { fill: var(--neon-cyan) !important; }

        /* Product Modal Light Mode Fixes */
        body.light-mode .product-modal { background: rgba(255,255,255,0.9); }
        body.light-mode .product-modal-inner { background: #fff; box-shadow: 0 20px 50px rgba(0,0,0,0.1); border: 1px solid var(--border) !important; }
        body.light-mode .product-modal-close { color: var(--text-primary); }
        body.light-mode .product-modal-title { color: var(--text-primary); }
        body.light-mode .product-modal-desc { color: var(--text-secondary); }
        body.light-mode .spec-icon-circle { border-color: var(--border); background: #f8fafc; color: var(--text-primary); }
        body.light-mode .spec-value { color: var(--text-primary); }
        body.light-mode .spec-label { color: var(--text-muted); }
        body.light-mode .product-modal-left { border-right: 1px solid var(--border-light); }
        
        /* Lightbox (Image Modal) Close Btn Fix */
        body.light-mode #imgModal .modal-close { color: #000; font-weight: 700; }
        body.light-mode .product-modal-zoom { background: #fff; border-color: var(--border); color: #000; }

        /* GNB Light Mode Polish */
        body.light-mode .gnb-item { color: var(--text-primary); font-weight: 500; }
        body.light-mode .gnb-item:hover { color: var(--neon-cyan); }
        

        /* ==================== 2. LAYOUT & BACKGROUND ==================== */
        #webgl-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
            pointer-events: none; transition: filter 1s ease, opacity 0.5s ease;
        }
        
        .vignette {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;
            background: var(--vignette-bg);
            pointer-events: none;
            transition: background 0.5s ease;
        }

        /* ==================== 3. TOP GNB ==================== */
        .top-bar {
            position: fixed; top: 0; left: 0; width: 100%; height: 100px; z-index: 100;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 60px;
            background: var(--topbar-bg);
            transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }
        /* Light mode top bar enhanced */
        body.light-mode .top-bar {
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
        }
        
        /* LANGUAGE SWITCHER */
        .lang-switch { display: flex; gap: 12px; margin-left: 40px; align-items: center; }
        .lang-link { 
            color: #666; font-family: var(--font-sub); font-size: 14px; font-weight: 600; text-decoration: none; cursor: pointer; transition: color 0.3s; 
        }
        .lang-link.active { color: var(--neon-cyan); }
        .lang-link:hover { color: #fff; }
        
        body.light-mode .lang-link { color: #aaa; }
        body.light-mode .lang-link:hover { color: #000; }
        body.light-mode .lang-link.active { color: var(--neon-cyan); }

        /* Mobile Lang Switch */
        .m-lang-switch { display: flex; justify-content: center; gap: 20px; margin-top: 30px; padding-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); }
        .m-lang-link { font-size: 18px; color: #666; font-weight: 700; text-decoration: none; }
        .m-lang-link.active { color: var(--neon-cyan); }

        /* Brand Logo - Smart Masking for Light Mode */
        .brand-logo {
            position: relative;
            display: inline-block;
            cursor: pointer;
            padding: 0;
        }
        .brand-logo img.logo-base {
            height: 45px; width: auto;
            display: block;
            transition: opacity 0.3s;
        }
        /* Overlay for Text Part only */
        .brand-logo img.logo-text-overlay {
            position: absolute;
            top: 0; left: 0;
            height: 45px; width: auto;
            /* Mask the left side (Symbol) so only Text is affected */
            -webkit-mask-image: linear-gradient(to right, transparent 32%, black 38%);
            mask-image: linear-gradient(to right, transparent 32%, black 38%);
            opacity: 0; /* Hidden in Dark Mode */
            transition: opacity 0.3s;
            pointer-events: none;
        }
        
        body:not(.light-mode) .brand-logo img.logo-base {
            text-shadow: 0 0 15px rgba(0, 240, 255, 0.6);
            /* Dark Mode: Text is white (default image), no filter needed */
        }

        /* Light Mode: Show the black text overlay */
        body.light-mode .brand-logo img.logo-text-overlay {
            opacity: 1;
            filter: brightness(0); /* Turn white text to black */
        }
        /* Light Mode: Keep the base logo visible for the Symbol part */
        /* No filter on base logo, so Symbol stays original (White 'e', Colored bg) */
        /* But text part will be effectively replaced by the black overlay */

        .gnb-menu { display: flex; gap: 45px; height: 100%; align-items: center; }
        .gnb-item {
            font-family: var(--font-sub); font-size: 16px; color: var(--text-secondary);
            cursor: pointer; position: relative; height: 100%; display: flex; align-items: center;
            transition: 0.3s; letter-spacing: 1px; font-weight: 500;
        }
        .gnb-item:hover { color: var(--text-primary); }
        body:not(.light-mode) .gnb-item:hover { text-shadow: 0 0 10px white; }
        .gnb-item::after {
            content: ''; position: absolute; bottom: 30px; left: 0; width: 0; height: 2px;
            background: var(--neon-cyan); transition: 0.3s;
        }
        .gnb-item:hover::after { width: 100%; }

        .submenu {
            position: absolute; top: 80px; left: 50%; transform: translateX(-50%);
            background: var(--submenu-bg); backdrop-filter: blur(15px);
            border: 1px solid var(--border); border-top: 3px solid var(--neon-cyan);
            padding: 15px 0; min-width: 240px;
            opacity: 0; visibility: hidden; transition: 0.3s;
            display: flex; flex-direction: column; gap: 5px;
            box-shadow: var(--shadow-lg);
            border-radius: 0 0 8px 8px;
        }
        .gnb-item:hover .submenu { opacity: 1; visibility: visible; top: 100px; }

        .sub-link {
            padding: 12px 25px; font-family: var(--font-body); font-size: 17px; color: var(--text-secondary);
            white-space: nowrap; transition: 0.2s; font-weight: 500;
        }
        .sub-link:hover { background: rgba(255,255,255,0.1); color: var(--neon-green); padding-left: 30px; }


        /* ==================== 4. SLIDE & CONTENT ==================== */
        .stage {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            perspective: 1200px;
        }

        .slide {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            padding: 130px 100px 60px 100px;
            opacity: 0; visibility: hidden; pointer-events: none;
            transform: translateZ(50px); filter: blur(5px);
            transition: 0.8s cubic-bezier(0.19, 1, 0.22, 1);
            display: flex; flex-direction: column;
        }
        .slide.active {
            opacity: 1; visibility: visible; pointer-events: auto;
            transform: translateZ(0); filter: blur(0);
        }
        
        /* Hero Title & Text - Theme Aware */
        .slide h1 { color: var(--text-primary); transition: color 0.5s; }
        .slide p { transition: color 0.5s; }
        body.light-mode .slide h1 {
            background: linear-gradient(90deg, var(--text-primary) 0%, var(--neon-cyan) 100%);
            background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .slide-tag { color: var(--neon-cyan); font-family: var(--font-sub); letter-spacing: 3px; font-size: 16px; margin-bottom: 10px; display: block; }
        .slide-title {
            font-family: var(--font-head); font-size: 60px; color: var(--text-primary); margin-bottom: 40px;
            text-transform: uppercase;
            background: linear-gradient(90deg, var(--text-primary) 0%, var(--text-secondary) 100%); 
            background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: none;
        }

        /* Glass Box Containers */
        .content-split { display: flex; gap: 60px; height: 60vh; align-items: stretch; }
        
        .glass-box {
            flex: 1; background: var(--glass-bg-alt);
            border: 1px solid var(--border); 
            backdrop-filter: blur(20px); padding: 50px;
            position: relative; overflow: hidden;
            display: flex; flex-direction: column; justify-content: center;
            transition: background 0.5s, border-color 0.5s;
        }
        .glass-box.hover-glow:hover { border-color: var(--neon-green); box-shadow: 0 0 30px rgba(0,255,136,0.1); }
        .glass-box::before { 
            content:''; position: absolute; top:0; left:0; width: 100%; height: 3px;
            background: linear-gradient(90deg, transparent, var(--neon-green), transparent); opacity: 0.8;
        }

        .img-frame { 
            flex: 1; height: 100%; width: 100%; 
            border: 1px solid var(--border); position: relative; overflow: hidden; cursor: pointer;
        }
        .img-frame img { 
            width: 100%; height: 100%; object-fit: cover; 
            transition: transform 0.6s; opacity: 0.85; 
        }
        .img-frame:hover img { transform: scale(1.05); opacity: 1; }
        .img-hint {
            position: absolute; bottom: 20px; right: 20px; 
            background: var(--glass-bg); padding: 5px 10px; 
            font-size: 16px; color: var(--neon-cyan); border: 1px solid var(--neon-cyan); pointer-events: none;
        }

        /* Typography */
        .text-body { color: var(--text-secondary); font-size: 20px; line-height: 1.7; margin-bottom: 30px; font-weight: 500; letter-spacing: 0.5px; }
        .text-big { font-size: 26px; font-family: var(--font-sub); color: var(--text-primary); margin-bottom: 15px; }
        
        /* Grids */
        .grid-full { display: flex; justify-content: space-between; gap: 40px; width: 100%; height: 50vh; }
        .grid-full .glass-box { height: 100%; padding: 40px; justify-content: flex-start; }

        .product-grid { 
            display: grid; grid-template-columns: repeat(5, 1fr); 
            grid-template-rows: 1fr; /* Single row to fill height */
            gap: 20px; width: 100%; 
            flex: 1; /* Fills remaining height */
            margin-bottom: 20px;
        }
        .p-card {
            background: var(--glass-bg-alt); border: 1px solid var(--border); padding: 30px; 
            display: flex; flex-direction: column; transition: 0.4s; cursor: pointer; position: relative;
        }
        /* Light Mode High Contrast Fix */
        body.light-mode .p-card {
            background: #ffffff !important; /* Pure white background */
            border: 1px solid rgba(0,0,0,0.1) !important;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        body.light-mode .p-card p {
            color: #2d3436 !important; /* Dark text */
            font-weight: 500;
        }
        body.light-mode .p-card h3 {
            color: #000 !important;
        }
        .p-card:hover { 
            border-color: var(--neon-green); 
            transform: translateY(-10px); box-shadow: var(--shadow-lg);
        }
        .p-card img {
            width: 100%; height: 280px; object-fit: contain; margin-bottom: 30px;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.5)); transition: 0.4s;
        }
        .p-card:hover img { transform: scale(1.08); filter: drop-shadow(0 10px 20px rgba(0,255,136,0.3)); }
        .p-card h3 { font-size: 20px; color: var(--text-primary); font-family: var(--font-sub); margin-bottom: 10px; line-height: 1.2; }
        .p-card p { font-size: 16px; color: var(--text-secondary); line-height: 1.5; flex-grow: 1; }
        .p-tag { 
            color: var(--neon-cyan); font-size: 16px; font-weight: 700; 
            text-transform: uppercase; margin-top: 15px; display: block; text-align: right;
        }


        /* Partner Logos */
        .logo-group {
            width: 100%; display: flex; justify-content: center; align-items: center;
            padding: 20px; border-bottom: 1px solid var(--border-light);
        }
        .logo-group:last-child { border-bottom: none; }
        .logo-group img { width: 90%; max-width: 800px; max-height: 140px; object-fit: contain; filter: var(--logo-filter); transition: 0.4s; opacity: 0.6; }
        .logo-group img:hover { opacity: 1; transform: scale(1.02); filter: var(--logo-filter) drop-shadow(0 0 15px var(--neon-cyan)); }


        /* HUD - Theme Aware */
        .hud {
            position: fixed; bottom: 10px; right: 30px; z-index: 50;
            display: flex; align-items: center; gap: 20px; 
            font-family: var(--font-sub); font-size: 16px; color: var(--hud-text);
        }
        .pg-num { font-size: 28px; color: var(--hud-text-active); margin: 0 40px; font-weight: 700; width: auto; min-width: 150px; text-align: center; letter-spacing: 2px; white-space: nowrap; }
        .nav-btn { 
            cursor: pointer; padding: 12px 20px; border: 1px solid var(--border); transition: 0.2s; 
            background: var(--hud-bg); color: var(--hud-text); text-transform: uppercase; letter-spacing: 1px;
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
        }
        .nav-btn:hover { border-color: var(--neon-green); color: var(--neon-green); background: rgba(0,168,107,0.1); }

        /* MODAL - Theme Aware */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 999;
            display: none; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s;
        }
        .modal-overlay.open { display: flex; opacity: 1; }
        .modal-content {
            max-width: 80%; max-height: 80%; position: relative;
        }
        .modal-content img { width: 100%; height: 100%; object-fit: contain; border: 2px solid var(--border); box-shadow: var(--shadow-lg); border-radius: 8px; }
        .modal-close {
            position: absolute; top: -40px; right: 0; color: #fff; font-size: 30px; cursor: pointer; font-family: var(--font-sub);
        }

        /* PRODUCT DETAIL MODAL - Theme Aware */
        .product-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-deep);
            z-index: 1000; display: none; opacity: 0; transition: opacity 0.3s, background 0.5s;
        }
        body:not(.light-mode) .product-modal {
            background: linear-gradient(135deg, rgba(0,20,10,0.98), rgba(5,5,5,0.99));
        }
        /* Light mode modal - bright and clean */
        body.light-mode .product-modal {
            background: linear-gradient(135deg, #f8fafa 0%, #e8f4f8 50%, #f0f7fa 100%);
        }
        .product-modal.open { display: block; opacity: 1; }
        .product-modal-inner {
            width: 100%; height: 100%; display: flex; flex-direction: column; padding: 60px 100px;
            overflow-y: auto;
        }
        /* Light mode modal text styling */
        body.light-mode .product-modal-title,
        body.light-mode .product-modal-category,
        body.light-mode .product-modal-desc,
        body.light-mode .detail-label,
        body.light-mode .detail-content {
            color: var(--text-primary) !important;
        }
        body.light-mode .product-modal-category {
            color: var(--text-muted) !important;
        }
        body.light-mode .product-modal-desc,
        body.light-mode .detail-content {
            color: var(--text-secondary) !important;
        }
        body.light-mode .product-modal-inner {
            background: linear-gradient(135deg, #f8fafa 0%, #e8f4f8 50%, #f0f7fa 100%);
        }
        
        /* TOP SECTION */
        .product-modal-top { display: flex; flex: 1; min-height: 50vh; margin-bottom: 40px; }
        .product-modal-left {
            flex: 1; padding-right: 60px; display: flex; flex-direction: column; justify-content: center;
        }
        .product-modal-right {
            flex: 1; display: flex; align-items: center; justify-content: center; position: relative;
        }
        .product-modal-right img {
            max-width: 90%; max-height: 50vh; object-fit: contain;
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3));
        }

        /* BOTTOM SECTION (DETAILS) */
        .product-modal-bottom {
            border-top: 1px solid var(--border); padding-top: 40px;
        }
        .detail-row { display: flex; margin-bottom: 30px; }
        .detail-label { width: 150px; font-size: 16px; color: var(--text-primary); font-weight: 700; font-family: var(--font-sub); }
        .detail-content { flex: 1; font-size: 16px; color: var(--text-secondary); line-height: 1.8; white-space: pre-line; }

        .product-modal-category {
            color: var(--text-muted); font-size: 16px; font-family: var(--font-sub); margin-bottom: 10px;
        }
        .product-modal-title {
            font-size: 48px; font-weight: 700; color: var(--text-primary); margin-bottom: 25px; font-family: var(--font-head);
        }
        .product-modal-desc {
            font-size: 16px; color: var(--text-secondary); line-height: 1.7; margin-bottom: 40px; max-width: 90%;
        }
        .product-modal-specs {
            display: flex; gap: 30px;
        }
        .spec-item {
            text-align: center; padding: 10px; background: var(--glass-bg-alt); border-radius: 50%; width: 110px; height: 110px;
            display: flex; flex-direction: column; align-items: center; justify-content: center; border: 1px solid var(--border);
        }
        .spec-icon { font-size: 24px; margin-bottom: 3px; }
        .spec-label { font-size: 16px; color: var(--text-muted); }
        .spec-value { font-size: 16px; color: var(--neon-cyan); font-weight: 600; }
        
        .product-modal-close {
            position: absolute; top: 30px; right: 40px; color: var(--text-primary); font-size: 24px;
            cursor: pointer; font-family: var(--font-sub); z-index: 1001;
            padding: 10px 20px; border: 1px solid var(--border); transition: 0.3s;
            background: var(--glass-bg); border-radius: 8px;
        }
        .product-modal-close:hover { border-color: var(--neon-green); color: var(--neon-green); }
        .product-modal-zoom {
            position: absolute; bottom: 20px; right: 20px; width: 40px; height: 40px;
            border: 2px solid var(--neon-cyan); border-radius: 50%; display: flex;
            align-items: center; justify-content: center; cursor: pointer; transition: 0.3s;
            background: var(--glass-bg);
        }
        .product-modal-zoom:hover { background: var(--neon-cyan); color: #000; }

        /* CAR DIAGRAM */
        .car-diagram {
            position: relative; width: 100%; height: 70vh; display: flex; 
            justify-content: center; align-items: center;
        }
        .car-diagram-img {
            max-width: 60%; max-height: 100%; object-fit: contain;
            filter: brightness(0.9);
        }
        .sensor-point {
            position: absolute; width: 12px; height: 12px; background: white;
            border-radius: 50%; cursor: pointer; transition: 0.3s;
            animation: pulse 2s infinite;
        }
        .sensor-point:hover { transform: scale(1.5); background: var(--neon-cyan); }
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255,255,255,0.4); }
            50% { box-shadow: 0 0 0 10px rgba(255,255,255,0); }
        }
        .sensor-info {
            position: absolute; width: 240px; padding: 15px;
            background: rgba(0,0,0,0.8); border-left: 2px solid var(--neon-green);
        }
        .sensor-info h4 { color: var(--neon-green); font-size: 16px; margin-bottom: 8px; font-family: var(--font-sub); }
        .sensor-info p { color: #aaa; font-size: 16px; line-height: 1.5; }
        .sensor-info img { width: 40px; height: 40px; object-fit: contain; margin-bottom: 10px; border-radius: 50%; background: #222; padding: 5px; }

        /* ==================== RESPONSIVE ==================== */
        /* ==================== RESPONSIVE & MOBILE UI ==================== */
        .mobile-menu-btn { display: none; font-size: 28px; color: white; cursor: pointer; z-index: 200; }
        .mobile-nav {
            position: fixed; top: 0; right: -100%; width: 100%; height: 100%;
            background: rgba(5,5,5,0.98); z-index: 150;
            transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            display: flex; flex-direction: column; padding: 100px 40px;
            overflow-y: auto; backdrop-filter: blur(20px);
        }
        .mobile-nav.open { right: 0; }
        .m-link-group { margin-bottom: 40px; }
        .m-link-head { font-family: var(--font-sub); font-size: 14px; color: var(--neon-green); margin-bottom: 20px; letter-spacing: 2px; text-transform: uppercase; }
        .m-link { font-size: 24px; color: #fff; margin-bottom: 15px; display: block; font-weight: 700; transition: 0.2s; }
        .m-link:active { color: var(--neon-cyan); transform: translateX(10px); }

        /* Partner Styles Moved from Body */
        .partner-container { display: flex; flex-direction: column; gap: 20px; width: 100%; max-width: 1700px; align-items: center; }
        .partner-row { display: flex; gap: 20px; justify-content: center; width: 100%; }
        .partner-card {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 4px; width: 220px; height: 130px;
            display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .partner-card:hover { background: rgba(255,255,255,0.08); border-color: var(--neon-cyan); box-shadow: 0 0 20px rgba(0, 255, 255, 0.15); transform: translateY(-5px); }
        .partner-card img { max-width: 85%; max-height: 75%; object-fit: contain; filter: grayscale(100%) brightness(1.2); transition: all 0.3s; }
        .partner-card:hover img { filter: grayscale(0%) brightness(1); }

        /* CORE VALUES (PC Defaults) */
        .cv-title { font-size: 18px; color: white; font-weight: 700; margin-bottom: 8px; line-height: 1.2; display: block; }
        .cv-desc { font-size: 16px; color: #aaa; line-height: 1.3; display: block; }
        .cv-item { transition: 0.3s; }
        .cv-item:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .cv-item:nth-child(4) .cv-title { color: var(--neon-green); }

        /* ==================== 1. TABLET (768px ~ 1100px) ==================== */
        @media (max-width: 1100px) {
            /* Switch to Hamburger Menu */
            .mobile-menu-btn { display: block; }
            .gnb-menu { display: none; }
            .top-bar { padding: 0 30px; height: 70px; background: rgba(0,0,0,0.8); }

            /* Compact Layout */
            .slide { padding: 100px 40px; overflow-y: auto; display: block !important; }
            
            /* Relax height constraints */
            .slide > div { height: auto !important; min-height: 100%; display: block !important; }
            .content-split { flex-direction: column; height: auto; gap: 30px; }
            .grid-full { flex-direction: column; height: auto; gap: 30px; }
            
            /* Typography */
            h1 { font-size: 60px !important; }
            .slide-title { font-size: 40px; }
            
            /* Products: 2 Columns */
            .product-grid { grid-template-columns: repeat(2, 1fr); gap: 20px; }
            .p-card img { height: 180px; }

            /* Partners: Wrap */
            .partner-row { flex-wrap: wrap; }
            .partner-card { width: 30%; }
        }

        /* ==================== 2. MOBILE (< 768px) ==================== */
        @media (max-width: 768px) {
            /* 1 Column ONLY */
            .product-grid { grid-template-columns: 1fr; gap: 30px; }
            .grid-full { gap: 40px; }
            
            /* Cards */
            .p-card { background: rgba(30,30,30,0.6); }
            .p-card img { height: 220px; /* Bigger images for mobile */ }
            
            /* Partners */
            .partner-card { width: 48%; /* 2 logos per row is minimal */ }
            
            /* Typography & Spacing */
            .slide { padding: 90px 20px 60px 20px; }
            .slide-title { font-size: 32px; word-break: keep-all; line-height: 1.3; }
            h1 { font-size: 42px !important; line-height: 1.1; }
            
            .text-body { font-size: 17px; line-height: 1.7; text-align: justify; }
            
            /* Reset specific flex layouts to column */
            .logo-group { padding: 10px; }
            .glass-box { padding: 30px 20px; }

            /* Hero Text Box Mobile Position Adjustment */
            .slide:first-of-type > div {
                justify-content: flex-start !important;
                padding-top: 35vh !important;
            }

            /* Request 4: Mobile Hamburger Visible in Light Mode */
            body.light-mode .mobile-menu-btn { color: #000 !important; }

            /* Overview Table Stack */
            .overview-table, .overview-table tbody, .overview-table tr, .overview-table th, .overview-table td {
                display: block; width: 100%;
            }
            .overview-table tr { margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); }
            .overview-table th { border: none; padding-bottom: 5px; font-size: 16px; }
            .overview-table td { border: none; padding-top: 0; padding-bottom: 15px; font-size: 16px; color: #eee; }
            .overview-table tr:last-child { border-bottom: none; }

            /* Core Values Mobile 2x2 Grid */
            .core-values-box { padding: 20px !important; }
            .core-values-grid { flex-wrap: wrap !important; height: auto !important; gap: 10px !important; }
            .cv-item { flex: none !important; width: 48% !important; min-height: 110px; padding: 15px 5px !important; }
            .cv-title { font-size: 15px !important; margin-bottom: 5px; }
            .cv-desc { font-size: 13px !important; line-height: 1.25; }

            /* Partners Mobile */
            .partner-text-container { margin-bottom: 15px !important; }
            .partner-card { width: 47% !important; height: 90px !important; margin-bottom: 10px; }
            .partner-row { gap: 10px !important; margin-bottom: 0 !important; }
            .partner-container { gap: 0 !important; }

            /* Partners Mobile */
            .partner-text-container { margin-bottom: 15px !important; }
            .partner-card { width: 47% !important; height: 90px !important; margin-bottom: 10px; }
            .partner-row { gap: 10px !important; margin-bottom: 0 !important; }
            .partner-container { gap: 0 !important; }

            /* Mobility Tech Mobile Split (Image Left, Tab Right) */
            .slide .mobility-container {
                display: flex !important; flex-direction: row !important;
                gap: 15px !important; align-items: flex-start !important;
                height: auto !important; margin-top: 10px;
            }
            .mob-img-display {
                display: block !important; width: 40% !important; 
                height: auto !important; aspect-ratio: 9/16; /* Taller ratio */
                order: -1 !important; /* Move to Left */
                border-radius: 8px !important; margin-top: 5px !important;
            }
            .mob-img-display img { position: relative !important; height: 100% !important; object-fit: cover !important; }
            .mob-tab-list { width: 60% !important; padding-top: 0 !important; }

            /* === ESG MANAGEMENT STYLES (Consolidated) === */
            /* Desktop Default */
            .esg-main-container { display: flex; justify-content: center; gap: 40px; margin-top: 60px; }
            .esg-circle-container { display:flex; flex-direction:column; align-items:center; width: 300px; }
            .esg-circle {
                width: 200px; height: 200px; border-radius: 50%; border: 4px solid #555;
                display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;
                background: rgba(0,0,0,0.5); margin-bottom:30px; transition:0.3s;
            }
            .esg-circle:hover { transform: scale(1.05); }
            .esg-circle h3 { font-size:20px; font-weight:700; line-height:1.2; }
            .esg-desc { text-align:center; color:#aaa; font-size:15px; line-height:1.6; }
            .esg-sub-item { margin-bottom: 25px; } 
            .esg-sub-item:last-child { margin-bottom: 0; }

            /* Mobile Override */
            @media (max-width: 1024px) { /* Matched to Tablet/Mobile breakpoint */
                .esg-main-container { 
                    flex-direction: row !important; flex-wrap: wrap !important; 
                    gap: 0 !important; row-gap: 20px !important; 
                    justify-content: space-between !important; margin-top: 20px !important; 
                }
                .esg-arrow { display: none !important; }
                
                /* Flatten DOM for Reordering */
                .esg-circle-container { display: contents !important; }
                .esg-desc { display: contents !important; }
                
                /* Order 1: Circles (3 in a row) */
                .esg-circle { 
                    order: 1 !important; 
                    width: 32% !important; height: auto !important; aspect-ratio: 1/1 !important;
                    margin: 0 !important; 
                    border-width: 2px !important; padding: 5px !important;
                }
                .esg-circle h3 { font-size: 11px !important; line-height:1.2; }
                .esg-circle img { width: 30px !important; margin-bottom: 5px !important; }

                /* Order 2: Text Items (2 in a row) */
                .esg-sub-item {
                    order: 2 !important; width: 48% !important;
                    background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px;
                    margin-bottom: 0 !important; margin-top: 10px !important;
                    text-align: left !important;
                }
                .esg-sub-item strong { font-size: 13px !important; display:block; margin-bottom:4px; color: var(--neon-green); }
                .esg-sub-item { font-size: 12px !important; line-height: 1.3 !important; color: #ccc; } 
            } 

            /* HUD: Simplified */
            .mob-tab-head { font-size: 15px !important; padding: 12px 0 !important; }
            .mob-tab-body { font-size: 13px !important; line-height: 1.4 !important; padding-right: 0 !important; }
            .mob-tab.active .mob-tab-head { font-size: 17px !important; color: var(--neon-green); }
            /* Hide the visual indicator line on mobile to save space? Or keep small. */
            .mob-tab-head::before { display: none !important; } 

            /* HUD: Simplified */
            .hud {
                bottom: 30px; left: 50%; transform: translateX(-50%);
                right: auto; gap: 0; justify-content: space-between;
                width: 90%; max-width: 350px;
                padding: 10px 20px;
                background: rgba(10,10,10,0.9);
                border: 1px solid rgba(255,255,255,0.2);
                border-radius: 40px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            }
            .mobile-nav-close {
                position: absolute !important; top: 40px !important; right: 30px !important; left: auto !important;
                font-size: 18px; font-weight: 700; color: #fff; cursor: pointer;
                border: 2px solid rgba(255,255,255,0.5); padding: 12px 24px; border-radius: 30px;
                background: rgba(0,0,0,0.3); z-index: 200;
            }
            .pg-num { font-size: 16px; min-width: auto; margin: 0; font-weight: 700; color: #fff; }
            .nav-btn {
                display: flex; align-items: center; justify-content: center;
                width: 40px; height: 40px; padding: 0; border-radius: 50%;
                background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1);
                color: #fff; font-size: 18px; 
            }
            .nav-btn:active { background: var(--neon-cyan); color: #000; }
            
            /* Modals: Full Screen */
            .product-modal-inner { padding: 30px; }
            .product-modal-right img { max-height: 200px; }
        }
    </style>
</head>
<body>

    <!-- VISUALS -->
    <div id="webgl-container"></div>
    <div class="vignette"></div>

    <!-- MODAL -->
    <div class="modal-overlay" id="imgModal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-close" onclick="closeModal()">CLOSE X</div>
            <img id="modalImg" src="">
        </div>
    </div>



    <!-- NAVIGATION -->
    <!-- MOBILE NAVIGATION OVERLAY -->
    <div class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-close" onclick="toggleMobile()">✕ CLOSE</div>
        <div class="m-link-group">
            <div class="m-link-head">ABOUT US</div>
            <div class="m-link" onclick="go(1); toggleMobile();">Overview</div>
            <div class="m-link" onclick="go(2); toggleMobile();">Vision & Mission</div>
            <div class="m-link" onclick="go(3); toggleMobile();">Partners</div>
            <div class="m-link" onclick="go(4); toggleMobile();">Control</div>

            <div class="m-link" onclick="go(5); toggleMobile();">ESG</div>
        </div>
        <div class="m-link-group">
            <div class="m-link-head">PRODUCTS</div>
            <div class="m-link" onclick="go(6); toggleMobile();">Overview</div>
            <div class="m-link" onclick="go(7); toggleMobile();">Sensors</div>
            <div class="m-link" onclick="go(11); toggleMobile();">Actuators</div>
            <div class="m-link" onclick="go(12); toggleMobile();">Controllers</div>
        </div>
        <div class="m-link-group">
            <div class="m-link-head">SUPPORT</div>
            <div class="m-link" onclick="go(document.querySelectorAll('.slide').length - 1); toggleMobile();">Directions</div>
        </div>
        
        <!-- Mobile Language Switch -->
        <div class="m-lang-switch">
            <a href="/ko" class="m-lang-link">KR</a>
            <span style="color:#333">|</span>
            <a href="/" class="m-lang-link active">EN</a>
        </div>
    </div>

    <!-- NAVIGATION -->
    <nav class="top-bar">
        <div class="brand-logo" onclick="go(0)">
            <img src="assets/logo_full.png" alt="EMT Logo" class="logo-base">
            <img src="assets/logo_full.png" alt="EMT Logo" class="logo-text-overlay">
        </div>
        <div class="gnb-menu">
            <div class="gnb-item">ABOUT US
                <div class="submenu">
                    <div class="sub-link" onclick="go(1)">Overview</div>
                    <div class="sub-link" onclick="go(2)">Vision & Mission</div>
                    <div class="sub-link" onclick="go(3)">Partners</div>
                    <div class="sub-link" onclick="go(4)">Mobility Control</div>

                    <div class="sub-link" onclick="go(5)">ESG Management</div>
                </div>
            </div>
            <div class="gnb-item">MOBILITY PRODUCTS
                <div class="submenu">
                    <div class="sub-link" onclick="go(6)">Overview</div>
                    <div class="sub-link" onclick="go(7)">SENSORS</div>
                    <div class="sub-link" onclick="go(11)">ACTUATORS</div>
                    <div class="sub-link" onclick="go(12)">CONTROLLERS</div>
                </div>
            </div>
            <div class="gnb-item">SUPPORT
                <div class="submenu">
                    <div class="sub-link" onclick="go(document.querySelectorAll('.slide').length - 1)">Directions</div>
                </div>
            </div>
        </div>
        
        <!-- Desktop Language Switch -->
        <div class="lang-switch mobile-hide">
            <a href="/ko" class="lang-link">KR</a>
            <span style="color:rgba(255,255,255,0.2)">|</span>
            <a href="/" class="lang-link active">EN</a>
        </div>
        <!-- Mobile Menu Button -->
        <div class="mobile-menu-btn" onclick="toggleMobile()">☰</div>
    </nav>

    <!-- CONTENT STAGE -->
    <main class="stage">
        
        <!-- 01. HERO -->
        <div class="slide active">
            <div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">

                <h1 style="font-family: 'Syncopate'; font-size: 96px; font-weight: 700; line-height: 1.1; margin-bottom: 30px;">
                    SMART SENSOR<br>& CONTROL
                </h1>
                <p style="color:#ddd; font-size: 24px; max-width: 900px; line-height: 1.6; font-weight: 300;">
                    Leaping forward as a global smart sensor company leading the future mobility industry.
                </p>
            </div>
        </div>

        <!-- 02. OVERVIEW -->
        <div class="slide">
            <!-- Background Image -->
            <div style="position:absolute; top:0; left:0; width:100%; height:100%; z-index:-1;">
                <img src="assets/overview_robot.jpg" style="width:100%; height:100%; object-fit:cover; filter: var(--bg-img-filter);">
            </div>

            <span class="slide-tag">ABOUT US</span>
            <h1 class="slide-title">COMPANY OVERVIEW</h1>
            
            <style>
                @media (max-width: 1024px) {
                    .overview-top-section {
                        flex-direction: column !important;
                        height: auto !important;
                        gap: 20px !important;
                    }
                    .overview-text-col {
                        width: 100% !important;
                        padding: 0 !important;
                        order: 1; /* Text first */
                    }
                    .overview-top-section .glass-box {
                        width: 100% !important;
                        flex: none !important;
                        order: 2; /* Table second */
                        padding: 30px !important; /* Reset padding for mobile */
                    }
                    .overview-table th, .overview-table td { font-size: 14px !important; padding: 15px 0 !important; }
                    .overview-table th { padding-right: 20px !important; }
                    /* Adjust Stats on Mobile */
                    .overview-text-col > div { /* The stats container */
                        flex-direction: column; 
                        gap: 30px !important; 
                        margin-top: 40px !important;
                    }
                }
            </style>
            
            <div style="display: flex; flex-direction: column; height: 75vh; justify-content: space-between;">
                
                <!-- TOP SECTION: Intro & Table -->
                <div class="overview-top-section" style="display: flex; gap: 40px; height: 100%; align-items: center;">
                    
                    <!-- Left: Slogan & Text (60%) -->
                    <div class="overview-text-col" style="flex: 6.6; display: flex; flex-direction: column; justify-content: center; padding: 40px 0;">
                        <h2 style="font-size: 38px; color: white; line-height: 1.3; margin-bottom: 50px; font-weight:700;">
                            Through <span style="color:var(--neon-green)">electrification</span> and <span style="color:var(--neon-cyan)">intelligence</span>,<br>
                            we are reshaping our portfolio around future mobility modules, control software, and data.
                        </h2>
                        <p style="font-size: 18px; color: #ccc; line-height: 1.8; max-width: 95%;">
                            EMT is based on technology that has supplied smart sensors and actuators to global Tier-1 customers As a company, it has high quality reliability, cost and delivery competitiveness, and a stable sales base. EMT has moved beyond sensors and actuators to become an IoT, SW, and Data–based battlefield solutions company We will open up the future with our customers.
                        </p>

                        <!-- Stats moved here -->
                        <div style="display: flex; gap: 20px; margin-top: 60px;">
                            <div style="flex:1;">
                                <div style="font-size: 16px; color: white; margin-bottom: 8px; font-weight: 600; opacity:0.8;">R&D Experience</div>
                                <div style="font-size: 42px; font-weight: 700; color: var(--neon-green); margin-bottom: 10px;">100+</div>
                                <p class="stats-desc" style="font-size: 14px; color: #999; line-height: 1.4;">With over 30 years of accumulated R&D experience, we continuously innovate smart mobility control technology, enhancing efficiency and advancement across industries</p>
                            </div>
                            <div style="flex:1;">
                                <div style="font-size: 16px; color: white; margin-bottom: 8px; font-weight: 600; opacity:0.8;">Global Customer Collaboration</div>
                                <div style="font-size: 42px; font-weight: 700; color: var(--neon-cyan); margin-bottom: 10px;">30+</div>
                                <p class="stats-desc" style="font-size: 14px; color: #999; line-height: 1.4;">We collaborate with over 100 global customers, providing customized solutions and establishing ourselves as a trusted partner in various industrial environments</p>
                            </div>
                            <div style="flex:1;">
                                <div style="font-size: 16px; color: white; margin-bottom: 8px; font-weight: 600; opacity:0.8;">Patents & Technical Certifications</div>
                                <div style="font-size: 42px; font-weight: 700; color: white; margin-bottom: 10px;">50+</div>
                                <p class="stats-desc" style="font-size: 14px; color: #999; line-height: 1.4;">With over 50 patents and technical certifications, we prove EMT's proprietary technology and global competitiveness, providing innovative solutions</p>
                            </div>
                        </div>
                        <style>
                            body.light-mode .stats-desc { color: #576574 !important; font-weight: 500; }
                        </style>
                    </div>


                    <!-- Right: Company Info Table (40%) -->
                    <div class="glass-box" style="flex: 3.4; padding: 40px; display: flex; flex-direction: column; justify-content: center;">
                        <style>
                            .overview-table th, .overview-table td { font-size: 16px; padding: 25px 0; border-bottom: 1px solid var(--border-light); vertical-align: middle; }
                            .overview-table th { color: var(--neon-cyan); text-align: left; width: 1%; white-space: nowrap; padding-right: 60px !important; font-weight:600; }
                            .overview-table td { color: var(--text-primary); text-align: left; }
                        </style>
                        <table class="overview-table">
                            <tr>
                                <th>Company Name</th>
                                <td>EMT Co., Ltd.</td>
                            </tr>
                            <tr>
                                <th>CEO</th>
                                <td>Young-ho Ko</td>
                            </tr>
                            <tr>
                                <th>Establishment</th>
                                <td>July 14, 2010</td>
                            </tr>
                            <tr>
                                <th>Headquarters</th>
                                <td>Busan, Republic of Korea</td>
                            </tr>
                            <tr>
                                <th>Main Business</th>
                                <td>Smart sensors, Actuators, Controllers</td>
                            </tr>

                            <tr>
                                <th>Certifications</th>
                                <td>IATF 16949, ISO 14001</td>
                            </tr>
                        </table>
                    </div>
                </div>


            </div>
        </div>

        <!-- 03. VISION & MISSION -->
        <div class="slide">
            <span class="slide-tag">ABOUT US</span>
            <h1 class="slide-title" style="margin-bottom: 15px;">VISION & MISSION</h1>
            <p style="color:#aaa; font-size:18px; text-align:center; margin-bottom:10px; max-width:1920px; margin-left:auto; margin-right:auto;">
                We enhance safety and efficiency in various fields such as automobiles, motorcycles, and industrial facilities, creating sustainable industrial development and future customer value together
            </p>
            
            <!-- Top Row: VISION & MISSION -->
            <div style="display: flex; gap: 30px; margin-bottom:15px; align-items: stretch;">
                <div class="glass-box" style="flex:3; padding: 30px;">
                    <h2 style="color:var(--neon-green); font-size:16px; font-family:var(--font-sub); margin-bottom: 15px;">VISION</h2>
                    <p style="font-size:24px; color:white; font-weight:700; line-height: 1.3; margin-bottom:15px;">
                        Global Top-Tier Partner by 2035<br>with Core Mobility Sensor & Control Solutions
                    </p>
                    <p style="color:#aaa; font-size:16px; line-height:1.5;">
                        EMT develops sensor and actuator technology to make vehicles safer and more reliable.
                        Our goal is to become a "trusted partner" that global customers seek first by 2035.
                    </p>
                </div>
                <div class="glass-box" style="flex:3; padding: 30px;">
                    <h2 style="color:var(--neon-cyan); font-size:16px; font-family:var(--font-sub); margin-bottom: 15px;">MISSION</h2>
                    <p style="font-size:20px; color:white; font-weight:600; margin-bottom:15px;">Building Trust with Quality, Creating the Future with Technology</p>
                    <div style="display:flex; gap:15px;">
                        <div style="flex:1; text-align:center;">
                            <div style="height:80px; border-radius:8px; overflow:hidden;"><img src="assets/mission_1.png" style="width:100%; height:100%; object-fit:cover;"></div>
                            <p style="font-size:16px; color:#aaa; margin-top:8px;">Quality & Service</p>
                        </div>
                        <div style="flex:1; text-align:center;">
                            <div style="height:80px; border-radius:8px; overflow:hidden;"><img src="assets/mission_2.png" style="width:100%; height:100%; object-fit:cover;"></div>
                            <p style="font-size:16px; color:#aaa; margin-top:8px;">Zero-Defect</p>
                        </div>
                        <div style="flex:1; text-align:center;">
                            <div style="height:80px; border-radius:8px; overflow:hidden;"><img src="assets/mission_3.png" style="width:100%; height:100%; object-fit:cover;"></div>
                            <p style="font-size:16px; color:#aaa; margin-top:8px;">Sustainability</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Row: CORE VALUES & OUR GOALS -->
            <div style="display: flex; gap: 30px; margin-top: 0;">
                <!-- CORE VALUES -->
                <div class="glass-box" style="flex:4; padding: 25px; min-width: 0;">
                    <h2 style="color:var(--neon-green); font-size:16px; font-family:var(--font-sub); margin-bottom: 25px; margin-top: -10px;">CORE VALUES</h2>
                    <div style="display:flex; gap:5px; justify-content: space-between; align-items: center; width: 100%;">
                        <!-- Value 1 -->
                        <div class="cv-circle" style="width:130px; height:130px; flex-shrink: 1; border-radius:50%; border:2px solid #333; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; transition: 0.3s; padding: 10px;">
                            <span style="font-size:13px; color:white; font-weight:700; margin-bottom:6px; line-height:1.1;">Customer Value</span>
                            <span style="font-size:10px; color:#aaa; line-height:1.2;">Customer Success<br>is our success</span>
                        </div>
                        <!-- Value 2 -->
                        <div class="cv-circle" style="width:130px; height:130px; flex-shrink: 1; border-radius:50%; border:2px solid #333; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; transition: 0.3s; padding: 10px;">
                            <span style="font-size:13px; color:white; font-weight:700; margin-bottom:6px; line-height:1.1;">Diligence</span>
                            <span style="font-size:10px; color:#aaa; line-height:1.2;">Sincere and<br>dedicated work</span>
                        </div>
                        <!-- Value 3 -->
                        <div class="cv-circle" style="width:130px; height:130px; flex-shrink: 1; border-radius:50%; border:2px solid #333; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; transition: 0.3s; padding: 10px;">
                            <span style="font-size:13px; color:white; font-weight:700; margin-bottom:6px; line-height:1.1;">Creativity</span>
                            <span style="font-size:10px; color:#aaa; line-height:1.2;">Creating value<br>through innovation</span>
                        </div>
                        <!-- Value 4: Highlighted -->
                        <div class="cv-circle" style="width:130px; height:130px; flex-shrink: 1; border-radius:50%; border:3px solid var(--neon-green); display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; box-shadow: 0 0 20px rgba(0,255,136,0.15); transition: 0.3s; padding: 10px;">
                            <span style="font-size:13px; color:white; font-weight:700; margin-bottom:6px; line-height:1.1;">Harmony</span>
                            <span style="font-size:10px; color:#aaa; line-height:1.2;">Collaboration<br>mutual respect</span>
                        </div>
                    </div>
                    <style>
                        body.light-mode .cv-circle { border-color: var(--border) !important; background: rgba(0,0,0,0.02); }
                        body.light-mode .cv-circle:last-child { border-color: var(--neon-green) !important; box-shadow: 0 5px 15px rgba(33, 179, 114, 0.1); }
                        body.light-mode .cv-circle span { color: var(--text-primary) !important; }
                        body.light-mode .cv-circle span:last-child { color: var(--text-secondary) !important; }
                    </style>
                </div>
                
                <!-- OUR GOALS -->
                <div class="glass-box" style="flex:6; padding: 25px;">
                    <h2 style="color:var(--text-muted); font-size:16px; font-family:var(--font-sub); margin-bottom:25px;">OUR GOALS <span style="opacity: 0.5; margin-left: 8px;">(2025 ~ 2030)</span></h2>
                    <div style="display:flex; gap:30px;">
                        <div style="flex:1;">
                            <h3 style="color:white; font-size:17px; margin-bottom:12px; font-weight: 600;">Defect Rate Reduction</h3>
                            <p style="margin-bottom:12px;"><span style="font-size:42px; color:var(--neon-green); font-weight:700;">Zero</span><span style="color:var(--text-muted); font-size:16px; margin-left:8px;">ppm or less</span></p>
                            <p style="font-size:15px; color:#888; line-height:1.5;">We aim to reduce the defect rate to Zero ppm or less by 2030 through smart quality management and automated verification systems across all processes.</p>
                        </div>
                        <div style="flex:1;">
                            <h3 style="color:white; font-size:17px; margin-bottom:12px; font-weight: 600;">Carbon Emission Reduction</h3>
                            <p style="margin-bottom:12px;"><span style="font-size:42px; color:var(--neon-green); font-weight:700;">30</span><span style="color:var(--text-muted); font-size:16px; margin-left:8px;">% (vs. 2020)</span></p>
                            <p style="font-size:15px; color:#888; line-height:1.5;">We plan to reduce carbon emissions by 30% compared to 2020 by 2030 through process efficiency improvements and renewable energy transition.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 04. HISTORY -->


        <!-- 05. PARTNERS -->
        <div class="slide">
            <span class="slide-tag">ABOUT US</span>
            <h1 class="slide-title">PARTNERS</h1>
            
            <div class="partner-text-container" style="text-align:center; margin-bottom:40px;">
                <div style="color:var(--neon-green); font-size:18px; font-weight:700; font-family:var(--font-sub); margin-top:15px; opacity:0.8;">Since 2010</div><br>
                <p style="color:#aaa; font-size:20px; line-height:1.6;">
                    Partnering with leading global companies, we are leaping forward as a global leader in mobility and industrial control.
                </p>
                
            </div>

            <div style="display:flex; justify-content:center;">
                <!-- Logo Grid (Individual Cards) -->
                <!-- Logo Rows (Brick Layout) -->

                <div class="partner-container">
                    <!-- Row 1 (7 items) -->
                    <div class="partner-row">
                        <div class="partner-card"><img src="assets/logo_01.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_02.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_03.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_04.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_05.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_06.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_07.svg" onerror="this.style.display='none'"></div>
                    </div>
                    
                    <!-- Row 2 (6 items - Centered for brick effect) -->
                    <div class="partner-row">
                        <div class="partner-card"><img src="assets/logo_08.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_09.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_10.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_11.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_12.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_13.svg" onerror="this.style.display='none'"></div>
                    </div>

                    <!-- Row 3 (7 items) -->
                    <div class="partner-row">
                        <div class="partner-card"><img src="assets/logo_14.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_15.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_16.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_17.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_18.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_19.svg" onerror="this.style.display='none'"></div>
                        <div class="partner-card"><img src="assets/logo_20.svg" onerror="this.style.display='none'"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 06. MOBILITY CONTROL -->
        <div class="slide">
            <span class="slide-tag">ABOUT US</span>
            <h1 class="slide-title">MOBILITY CONTROL</h1>
            <h2 style="font-size:20px; color:#fff; margin-bottom:30px; text-align: center; font-weight:300; margin-top:-10px; opacity:0.8;">We present key technology areas for future mobility control</h2>
            
            <div class="mobility-container">
                <!-- Left: Tabs -->
                <div class="mob-tab-list">
                    <!-- 1. AGV -->
                    <div class="mob-tab active" onclick="setMobTab(0)">
                        <div class="mob-tab-head">AGV / AMR Navigation</div>
                        <div class="mob-tab-body">
                            AGV/AMR control technology uses sensor fusion-based SLAM to estimate real-time position, and supports safe and efficient movement through path planning and obstacle avoidance algorithms. It also improves operational efficiency with low-power motor control and battery optimization technology, and enables integrated management of multiple robots through API-linked fleet management.
                        </div>
                    </div>
                    
                    <!-- 2. Physical AI (New Position) -->
                    <div class="mob-tab" onclick="setMobTab(1)">
                        <div class="mob-tab-head">Physical AI</div>
                        <div class="mob-tab-body">
                            This technology integrates artificial intelligence algorithms with physical systems, enabling robots and machines to perceive real-world environments, make decisions, and act autonomously. Through sensor-fusion-based perception technologies that combine vision, LiDAR, tactile, and force sensors, the system understands surrounding environments and object states in real time and generates context-appropriate actions.
                        </div>
                    </div>

                    <!-- 3. Personal Mobility -->
                    <div class="mob-tab" onclick="setMobTab(2)">
                        <div class="mob-tab-head">Personal Mobility / Assistive Tech</div>
                        <div class="mob-tab-body">
                            Personal mobility and assistive technology use sensor fusion-based SLAM to estimate real-time position, and support safe and efficient movement through path planning and obstacle avoidance algorithms. It also improves operational efficiency with low-power motor control and battery optimization technology, and enables integrated management of multiple mobility devices through API-linked fleet management.
                        </div>
                    </div>

                    <!-- 4. Drone -->
                    <div class="mob-tab" onclick="setMobTab(3)">
                        <div class="mob-tab-head">Drone Delivery Control</div>
                        <div class="mob-tab-body">
                           Drone delivery control technology uses sensor fusion-based SLAM to estimate real-time position, and supports safe and efficient movement through path planning and obstacle avoidance algorithms. It also improves operational efficiency with low-power motor control and battery optimization technology, and enables integrated management of multiple drones through API-linked fleet management.
                        </div>
                    </div>

                    <!-- 5. Maritime -->
                    <div class="mob-tab" onclick="setMobTab(4)">
                        <div class="mob-tab-head">Maritime Autonomy Systems</div>
                        <div class="mob-tab-body">
                            Maritime autonomy technology uses sensor fusion-based SLAM to estimate real-time position, and supports safe and efficient navigation through path planning and obstacle avoidance algorithms. It also improves operational efficiency with low-power motor control and battery optimization technology, and enables integrated management of multiple autonomous vessels through API-linked fleet management.
                        </div>
                    </div>
                </div>

                <!-- Right: Image Display -->
                <div class="mob-img-display">
                    <img id="mobDisplayImg" src="assets/agv.jpg" onerror="this.src='https://via.placeholder.com/800x600'">
                </div>
            </div>

            <style>
                .mobility-container { display: flex; width: 100%; height: 65%; gap: 60px; max-width: 1600px; margin: 0 auto; align-items:flex-start; }
                /* Mobile Navigation Fix */
                @media (max-width: 1279px) {
                    .mobility-container { flex-direction: column-reverse; height: auto; gap: 30px; }
                    .mob-tab-list { width: 100%; padding-top: 0; }
                    .mob-img-display { width: 100%; height: 350px; min-height: 250px; margin-bottom: 20px; }
                    .mob-tab-head { font-size: 18px; }
                }
                .mob-tab-list { width: 45%; display: flex; flex-direction: column; justify-content: flex-start; gap: 0; padding-top:10px; }
                
                .mob-tab { border-bottom: 0px solid rgba(255,255,255,0.1); cursor: pointer; padding: 15px 0; transition: 0.3s; position: relative; }
                
                .mob-tab-head { font-size: 20px; font-weight: 700; color: #666; transition: 0.3s; font-family: var(--font-sub); display:flex; align-items:center; padding-left: 15px; }
                .mob-tab:hover .mob-tab-head { color: #aaa; }
                
                .mob-tab-body { 
                    max-height: 0; overflow: hidden; opacity: 0; transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);
                    font-size: 15px; color: #ccc; line-height: 1.6; padding-left: 15px; padding-right: 20px;
                }

                /* Active State */
                .mob-tab.active .mob-tab-head { color: #fff; font-size: 24px; text-shadow: none; }
                .mob-tab.active .mob-tab-body { max-height: 300px; opacity: 1; margin-top: 15px; margin-bottom: 15px; }
                
                /* Gradient Indicator for active tab */
                .mob-tab::before {
                    content: ''; position: absolute; left: 0; top: 18px; bottom: 18px; width: 3px; 
                    background: linear-gradient(to bottom, var(--neon-green), var(--neon-cyan));
                    opacity: 0; transition: 0.3s;
                }
                .mob-tab.active::before { opacity: 1; top: 20px; bottom: auto; height: 30px; } /* Initial height for head */
                .mob-tab.active::before { height: calc(100% - 30px); top: 15px; } /* Full height line */

                .mob-img-display { width: 55%; height: 100%; border-radius: 12px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1); position:relative; }
                .mob-img-display img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s transform; position:absolute; top:0; left:0; }
            </style>

            <script>
                const mobImages = [
                    'assets/agv.jpg',
                    'assets/physical_ai.png',
                    'assets/industry-05.png',
                    'assets/industry-02.png',
                    'assets/industry-03.png'
                ];
                window.setMobTab = function(idx) {
                    // Update Tabs
                    const tabs = document.querySelectorAll('.mob-tab');
                    tabs.forEach(t => t.classList.remove('active'));
                    tabs[idx].classList.add('active');
                    
                    // Update Image with Fade
                    const imgEl = document.getElementById('mobDisplayImg');
                    imgEl.style.opacity = 0;
                    imgEl.style.transform = 'scale(1.1)';
                    
                    setTimeout(() => {
                        imgEl.src = mobImages[idx];
                        imgEl.onload = () => {
                            imgEl.style.opacity = 1;
                            imgEl.style.transform = 'scale(1)';
                        };
                        // Fallback in case onload assumes cached
                        setTimeout(() => {
                             imgEl.style.opacity = 1;
                             imgEl.style.transform = 'scale(1)';
                        }, 50);
                    }, 300);
                }
            </script>
        </div>


        <!-- 07. ESG MANAGEMENT -->
        <div class="slide" style="padding-top: 130px; padding-bottom: 15px;">
            <span class="slide-tag">ABOUT US</span>
            <h1 class="slide-title" style="margin-top:0px; margin-bottom: 20px; padding-left:5px;">Sustainability & ESG</h1>
            <p style="text-align:center; color:#ddd; font-size:20px; line-height:1.6; max-width:1200px; margin:0 auto 10px auto;">
                We develop eco-friendly products through energy-efficient design and low-power technology, and pursue sustainable value creation through transparent ESG management and ethical supply chain construction.
            </p>
                        <!-- ESG Container -->
            <!-- New ESG Container based on EMT - Global2 -->
            <div class="esg-new-container" style="margin-top:5px; width:100%; max-width:1600px; margin-left:auto; margin-right:auto;">
                <style>
                    .esg-list { display: flex; gap: 30px; justify-content: center; list-style: none; padding: 0; flex-wrap: wrap; }
                    .esg-item { flex: 1; min-width: 300px; text-align: left; }
                    /* Mobile ESG Fix */
                    @media (max-width: 1279px) {
                        .esg-list { flex-direction: column; gap: 40px; }
                        .esg-item { width: 100%; min-width: auto; }
                    }
                    .esg-pic { 
                        width: 100%; height: 250px; overflow: hidden; border-radius: 12px; margin-bottom: 25px;
                        border: 1px solid rgba(255,255,255,0.1); position: relative;
                    }
                    .esg-pic img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
                    .esg-item:hover .esg-pic img { transform: scale(1.05); }
                    
                    .esg-content .esg-title { 
                        color: white; font-size: 28px; font-weight: 700; margin-bottom: 15px; 
                        font-family: var(--font-sub);
                    }
                    .esg-content .esg-desc { 
                        color: #aaa; font-size: 18px; line-height: 1.6; font-weight: 300;
                    }
                </style>
                <ul class="esg-list">
                    <li class="esg-item">
                        <figure class="esg-pic">
                            <img src="assets/esg-01.png" alt="Environmental">
                        </figure>
                        <div class="esg-content">
                            <div class="esg-title" style="color:var(--neon-green);">Environmental</div>
                            <div class="esg-desc">Low-power hardware, lightweight and modular design, hazardous substance reduction, and eco-friendly manufacturing</div>
                        </div>
                    </li>                  
                    <li class="esg-item">
                        <figure class="esg-pic">
                            <img src="assets/esg-02.png" alt="Social">
                        </figure>
                        <div class="esg-content">
                            <div class="esg-title" style="color:#fff;">Social</div>
                            <div class="esg-desc">Employee welfare programs, diversity and inclusion, and community contribution</div>
                        </div>
                    </li>             
                    <li class="esg-item">
                        <figure class="esg-pic">
                            <img src="assets/esg-03.png" alt="Governance">
                        </figure>
                        <div class="esg-content">
                            <div class="esg-title" style="color:var(--neon-cyan);">Governance</div>
                            <div class="esg-desc">Board independence and diversity, shareholder rights protection and transparent, ethical management</div>
                        </div>
                    </li>
                </ul>
            </div>


        </div>

        <!-- 08. MOBILITY PRODUCTS OVERVIEW -->
        <div class="slide">
            <span class="slide-tag">TECHNOLOGY</span><h1 class="slide-title">MOBILITY PRODUCTS</h1>
            <p style="color:#aaa; font-size:20px; text-align:center; margin-bottom:40px; max-width:1200px; margin-left:auto; margin-right:auto; position:relative; z-index:10;">
                We enhance safety and efficiency in various fields such as automobiles, motorcycles, and industrial facilities, creating sustainable industrial development and future customer value together
            </p>

            <!-- CSS for Diagram -->
            <style>
                .car-diagram-container {
                    position:relative; width:100%; height:80%; max-width:1600px; margin:-120px auto 0 auto; display:flex; justify-content:center; align-items:center;
                }
                
                /* Icon & Text Styling */
                .diagram-item-row { display:flex; align-items:center; gap:20px; margin-bottom:10px; position: relative; z-index: 2; }
                .diagram-item-row:last-child { margin-bottom:0; }

                .diagram-icon {
                   width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; flex-shrink:0;
                   background: #000; border: 2px solid #555; transition:0.3s; overflow:hidden; padding:0;
                }
                .diagram-icon img { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; transition:0.3s; }
                
                .diagram-text { max-width: 320px; }
                .diagram-text h4 { color:#fff; font-size:17px; font-weight:700; margin-bottom:6px; font-family: var(--font-main); letter-spacing: -0.5px; }
                .diagram-text p { color:#aaa; font-size:14px; line-height:1.5; margin:0; font-family: sans-serif; letter-spacing: -0.2px;}

                /* Hover Effects */
                .diagram-item-row:hover .diagram-icon { border-color: var(--neon-green); box-shadow: 0 0 15px rgba(0,255,136,0.3); transform: scale(1.1); }
                .diagram-item-row:hover .diagram-icon img { opacity: 1; }
                .diagram-item-row:hover h4 { color: var(--neon-green); }

                /* Layout Columns */
                /* Layout Columns - Widened spacing as requested */
                .left-col { position:absolute; left:10%; top:10%; width:22%; display:flex; flex-direction:column; align-items:flex-end; text-align:right; }
                .right-col { position:absolute; right:10%; top:5%; width:22%; display:flex; flex-direction:column; align-items:flex-start; text-align:left; }
                
                .left-col .diagram-item-row { flex-direction: row-reverse; } /* Text - Icon */
                .right-col .diagram-item-row { flex-direction: row; } /* Icon - Text */

                /* SVG Lines */
                .diagram-lines { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
                .diagram-line { stroke: rgba(255,255,255,0.3); stroke-width: 1.5; }
                body.light-mode .diagram-line { stroke: rgba(0,0,0,0.5); } /* Dark lines for light mode white background */

                /* Light Mode: Solid Dark Boxes (No Transparency) as requested */
                body.light-mode .diagram-item-row {
                    background: #111 !important; /* Solid Dark Grey/Black */
                    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                    border: 1px solid #333;
                }
                
                /* User Request: Make title text brighter inside the box */
                body.light-mode .diagram-text h4 { color: #fff !important; }
                body.light-mode .diagram-text p { color: #ccc !important; }
                
                /* User Request: Clean up car background (likely shadow issues) */
                /* We add a dark backing to the car image to absorb shadow artifacts */
                body.light-mode .car-bg-img {
                    /* Create a dark "stage" behind the car so shadows blend in naturally */
                    /* Or use a radial gradient to fade it out */
                    background: radial-gradient(closest-side, #000 40%, transparent 100%);
                    mix-blend-mode: multiply; /* Optional: helps blend if the page was not white */
                    opacity: 0.8 !important; /* Slightly reduce intensity */
                    border-radius: 50%;
                }
                
                /* Adjust Icon Border in Light Mode */
                body.light-mode .diagram-icon {
                    border-color: #333; /* Darker border for icon circle */
                    background: #222; /* Dark background for icon circle */
                }
                .diagram-line { stroke: rgba(255,255,255,0.3); stroke-width: 1px; fill: none; }
                .dot-start { fill: rgba(255,255,255,0.3); }
                .dot-end { fill: #fff; }
                
                /* Light Mode Dots */
                body.light-mode .dot-start { fill: rgba(0,0,0,0.3); }
                body.light-mode .dot-end { fill: #000; }

                /* Mobile Layout */
                /* Mobile & Small Laptop Layout */
                @media (max-width: 1279px) {
                    .car-diagram-container { flex-direction: column; height: auto; padding: 20px 0; }
                    .car-bg-img, .diagram-lines { display: none; }
                    .left-col, .right-col { position: static; width: 100%; align-items: flex-start; text-align: left; }
                    .left-col .diagram-item-row { flex-direction: row; }
                    .diagram-text { max-width: 100%; }
                    .diagram-item-row { margin-bottom: 30px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; width: 100%; }
                }

                /* PC & Laptop Layout Fix: Lock Aspect Ratio to prevent line shifting */
                @media (min-width: 1280px) {
                    .car-diagram-container {
                        position: relative;
                        width: 100%; max-width: 100%;
                        aspect-ratio: 16 / 9; /* Lock ratio to match SVG viewBox */
                        margin: 0 auto;
                        display: flex; justify-content: center; align-items: center;
                    }
                    .car-bg-img {
                        width: 100%; height: 100%;
                        object-fit: contain; /* Ensure image fits the locked ratio */
                        margin-top: 0 !important; /* Remove individual shifts */
                    }
                    .diagram-lines { width: 100%; height: 100%; }

                    /* Absolute Positioning for Items to match Lines exactly */
                    .left-col, .right-col {
                        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
                        display: block; pointer-events: none; /* Overlay mode */
                    }
                    .diagram-item-row {
                        position: absolute; width: auto; max-width: 40%; min-width: 350px; z-index: 100;
                        pointer-events: auto; margin: 0; border: none;
                        background: rgba(0,0,0,0.6); border-radius: 8px; padding: 0 12px; /* Remove vertical padding, let flex center */
                        backdrop-filter: blur(5px);
                        display: flex; align-items: center; gap: 12px;
                        height: 90px; /* Fixed height for perfectly equal gaps */
                    }
                    /* Compact fonts for 5 items */
                    .diagram-text h4 { font-size: 14px; margin-bottom: 3px; }
                    .diagram-text p { font-size: 13px; line-height: 1.3; margin: 0; }
                    
                    /* Icon Brightness & Hover Glow */
                    .diagram-icon {
                        border-radius: 50%;
                        transition: all 0.3s ease;
                        padding: 2px; /* Space for border glow */
                        border: 2px solid transparent; 
                    }
                    .diagram-icon img { 
                        width: 45px; height: 45px; 
                        filter: brightness(1.3); /* Brighter by default */
                        transition: all 0.3s ease;
                    }
                    
                    .diagram-item-row:hover .diagram-icon {
                        border-color: rgba(0, 255, 255, 0.8);
                        box-shadow: 0 0 15px rgba(0, 255, 255, 0.4);
                        background: rgba(0,0,0,0.3);
                    }
                    .diagram-item-row:hover .diagram-icon img {
                        filter: brightness(1.5);
                        transform: scale(1.1);
                    }
                }
            </style>

            <div class="car-diagram-container">
                
                <!-- Central Car Image -->
                <img class="car-bg-img" src="assets/bg.png" alt="Car" style="width:100%; height:100%; object-fit:contain; opacity:1.0; z-index:0;" onerror="this.src='https://emt.uxis.co.kr/share/portal/img/main/bg.png'">
                
                <!-- Diagram SVG Overlay -->
                <!-- Diagram SVG Overlay (Content generated by JS below) -->
                <svg class="diagram-lines" id="diagramSvg"></svg>

                <script>
                    // ==========================================================
                    // [USER CONFIG] DIAGRAM CONNECTION COORDINATES
                    // You can adjust x2, y2 values here to move the white dots.
                    // ==========================================================
                    // ==========================================================
                    // [USER CONFIG] DIAGRAM CONNECTION COORDINATES
                    // You can adjust x2, y2 values here to move the white dots.
                    // ==========================================================
                    // ==========================================================
                    // [USER CONFIG] DIAGRAM CONNECTION COORDINATES
                    // You can adjust x2, y2 values here to move the white dots.
                    // ==========================================================
                    const diagramConfig = [
                        // Left Items (Indices 0-4)
                        { x1: '36%', y1: '13%', x2: '43%', y2: '50%', isLeft: true }, 
                        { x1: '36%', y1: '29%', x2: '46%', y2: '66%', isLeft: true }, 
                        { x1: '36%', y1: '45%', x2: '41%', y2: '66%', isLeft: true }, 
                        { x1: '36%', y1: '61%', x2: '47%', y2: '78%', isLeft: true },
                        { x1: '36%', y1: '77%', x2: '46%', y2: '86%', isLeft: true }, 
                        
                        // Right Items (Indices 5-9)
                        { x1: '64%', y1: '13%', x2: '56%', y2: '52%', isLeft: false }, 
                        { x1: '64%', y1: '29%', x2: '55%', y2: '66%', isLeft: false }, 
                        { x1: '64%', y1: '45%', x2: '59%', y2: '68%', isLeft: false }, 
                        { x1: '64%', y1: '61%', x2: '58%', y2: '82%', isLeft: false },
                        { x1: '64%', y1: '77%', x2: '56%', y2: '85%', isLeft: false }
                    ];

                    function renderDiagram() {
                        const svg = document.getElementById('diagramSvg');
                        const container = document.querySelector('.car-diagram-container');
                        if(!svg || !container) return;

                        // 1. FLATTEN DOM (Unwrap items from cols to ensure shared coordinate space)
                        const leftCol = container.querySelector('.left-col');
                        const rightCol = container.querySelector('.right-col');
                        
                        if (leftCol) {
                            while(leftCol.firstChild) container.appendChild(leftCol.firstChild);
                            leftCol.remove();
                        }
                        if (rightCol) {
                            while(rightCol.firstChild) container.appendChild(rightCol.firstChild);
                            rightCol.remove();
                        }

                        // 2. Select All Items (Now siblings in container)
                        const items = Array.from(container.querySelectorAll('.diagram-item-row'));
                        
                        // 3. Responsive Check
                        const isPC = window.innerWidth >= 1280;

                        if (!isPC) {
                            // Mobile: Clear absolute positioning style
                            items.forEach(el => {
                                el.style.position = ''; 
                                el.style.left = ''; el.style.top = ''; 
                                el.style.right = ''; el.style.bottom = '';
                                el.style.transform = '';
                            });
                            svg.innerHTML = '';
                            return;
                        }

                        // 4. Draw & Position (PC)
                        let html = '<defs><circle id="end-dot" cx="0" cy="0" r="4" fill="white" /></defs>';
                        
                        diagramConfig.forEach((d, i) => {
                            // SVG Lines
                            html += `<line x1="${d.x1}" y1="${d.y1}" x2="${d.x2}" y2="${d.y2}" class="diagram-line" />`;
                            html += `<circle cx="${d.x2}" cy="${d.y2}" r="4" fill="white" />`;

                            // DOM Positioning
                            if (items[i]) {
                                const el = items[i];
                                el.style.position = 'absolute';
                                el.style.zIndex = '100'; // Force on top
                                el.style.top = d.y1;
                                el.style.left = d.x1;
                                
                                // Anchor Logic
                                if (d.isLeft) {
                                    el.style.transform = 'translate(-100%, -50%)'; 
                                    el.style.textAlign = 'right';
                                    el.style.flexDirection = 'row-reverse'; // Text - Icon
                                    el.style.justifyContent = 'flex-start'; 
                                } else {
                                    el.style.transform = 'translate(0, -50%)'; 
                                    el.style.textAlign = 'left';
                                    el.style.flexDirection = 'row'; // Icon - Text (Default)
                                    el.style.justifyContent = 'flex-start';
                                }
                            }
                        });
                        svg.innerHTML = html;
                    }
                    // Run
                    setTimeout(renderDiagram, 100); // Small delay to ensure DOM parsed
                    window.addEventListener('resize', renderDiagram);
                </script>

                <!-- Left Column Items -->
                <div class="left-col">
                    <!-- 1. Steering Angle -->
                    <div class="diagram-item-row" onclick="openProductModal('steering-angle')" style="cursor: pointer;">
                         <div class="diagram-icon"><img src="assets/8.png"></div>
                        <div class="diagram-text">
                            <h4>Steering Angle Sensor</h4>
                            <p>Detects the steering wheel's rotation angle and provides data to the vehicle's ECU.</p>
                        </div>
                    </div>
                    <!-- 2. Transmission Position Sensor -->
                    <div class="diagram-item-row" onclick="openProductModal('trans-position')" style="cursor: pointer;">
                         <div class="diagram-icon"><img src="assets/17.png"></div>
                        <div class="diagram-text">
                            <h4>Transmission Position Sensor</h4>
                            <p>Sensors to detect gear lever positions (P, R, N, D, etc.) in the electric vehicle transmission system and to the ECU and instrument cluster</p>
                        </div>
                    </div>
                    <!-- 3. Crankshaft Position Sensor -->
                    <div class="diagram-item-row" onclick="openProductModal('crank-position')" style="cursor: pointer;">
                         <div class="diagram-icon"><img src="assets/9.png"></div>
                        <div class="diagram-text">
                            <h4>Crankshaft Position Sensor</h4>
                            <p>Measures the rotational speed and position of the crankshaft and delivers this information to the ECU.</p>
                        </div>
                    </div>
                     <!-- 4. Fan Clutch -->
                     <div class="diagram-item-row" onclick="openProductModal('fan-clutch')" style="cursor: pointer;">
                        <div class="diagram-icon"><img src="assets/21.png"></div>
                       <div class="diagram-text">
                           <h4>Fan Clutch</h4>
                           <p>Helps regulate engine temperature and ensures efficient cooling performance.</p>
                       </div>
                   </div>
                   <!-- 5. Flush Door Handle Control Unit (Left) -->
                   <div class="diagram-item-row" onclick="openProductModal('flush-handle')" style="cursor: pointer;">
                        <div class="diagram-icon"><img src="assets/29.png"></div>
                       <div class="diagram-text">
                           <h4>Flush Door Handle Control Unit</h4>
                           <p>A control unit that automatically deploys and retracts the door handle based on smart key signals proximity detection and vehicle lock status.</p>
                       </div>
                   </div>
                </div>

                <!-- Right Column Items -->
                <div class="right-col">
                    <!-- 1. PTC Heater -->
                    <div class="diagram-item-row" onclick="openProductModal('ptc-heater')" style="cursor: pointer;">
                         <div class="diagram-icon"><img src="assets/19.png"></div>
                        <div class="diagram-text">
                            <h4>PTC Heater</h4>
                            <p>A self-controlled electric heater that limits current via ceramic semiconductor resistance.</p>
                        </div>
                    </div>
                    <!-- 2. Transfer Case Switch -->
                    <div class="diagram-item-row" onclick="openProductModal('pos-indicator')" style="cursor: pointer;">
                         <div class="diagram-icon"><img src="assets/5.png"></div>
                        <div class="diagram-text">
                            <h4>Transfer Case Switch</h4>
                            <p>Used to send and control operating signals for a vehicle's 4WD (four-wheel drive) system.</p>
                        </div>
                    </div>
                    <!-- 3. Coolant Temperature Sensor -->
                    <div class="diagram-item-row" onclick="openProductModal('water-temp')" style="cursor: pointer;">
                         <div class="diagram-icon"><img src="assets/6.png"></div>
                        <div class="diagram-text">
                            <h4>Coolant Temperature Sensor</h4>
                            <p>Measures engine coolant temperature and sends data to the ECU for controlling cooling fan operation and fuel injection.</p>
                        </div>
                    </div>
                    <!-- 4. BLDC Motor -->
                    <div class="diagram-item-row" onclick="openProductModal('bldc-motor')" style="cursor: pointer;">
                        <div class="diagram-icon"><img src="assets/25.png"></div>
                       <div class="diagram-text">
                           <h4>BLDC Motor</h4>
                           <p>A high efficiency motor with a brushless structure that minimizes friction loss and electrical noise and enables precise control.</p>
                       </div>
                   </div>
                   <!-- 5. Smart Electronic Proximity Sensor (Right) -->
                    <div class="diagram-item-row" onclick="openProductModal('proximity')" style="cursor: pointer;">
                        <div class="diagram-icon"><img src="assets/26.png"></div>
                       <div class="diagram-text">
                           <h4>Smart Electronic Proximity Sensor</h4>
                           <p>A non contact sensor that detects the proximity of an object using magnetic capacitive or ultrasonic principles.</p>
                       </div>
                   </div>
                </div>

            </div>
        </div>    
            <style>
                .sensor-info-new {
                    position: absolute; width: 220px;
                    display: flex; flex-direction: column; 
                    z-index: 2;
                }
                .sensor-info-new.left { align-items: flex-end; text-align: right; }
                .sensor-info-new.right { align-items: flex-start; text-align: left; }
                
                .sensor-text h4 { color: var(--text-primary); margin-bottom: 5px; font-size: 16px; font-weight:700; font-family:var(--font-sub); }
                .sensor-text p { color: var(--text-muted); font-size: 14px; line-height: 1.4; }
                
                .sensor-icon-circle {
                    width: 60px; height: 60px; border-radius: 50%; 
                    border: 1px solid var(--border); background: var(--glass-bg);
                    display: flex; justify-content: center; align-items: center;
                    margin-bottom: 15px; position: relative;
                }
                .sensor-icon-circle img { width: 35px; height: 35px; object-fit: contain; }
                
                /* Icon Connection Dot */
                .sensor-info-new.left .sensor-icon-circle::after {
                    content:''; position: absolute; right: -5px; top: 50%; transform: translateY(-50%);
                    width: 6px; height: 6px; background: white; border-radius: 50%;
                    box-shadow: 0 0 10px white;
                }
                .sensor-info-new.right .sensor-icon-circle::after {
                    content:''; position: absolute; left: -5px; top: 50%; transform: translateY(-50%);
                    width: 6px; height: 6px; background: white; border-radius: 50%;
                    box-shadow: 0 0 10px white;
                }
                
                /* Hover Effects */
                .sensor-info-new:hover .sensor-icon-circle { border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0,255,255,0.3); }
                .sensor-info-new:hover h4 { color: var(--neon-cyan); }
            </style>
        </div>

        <!-- 08. SENSORS I -->
        <div class="slide">
            <span class="slide-tag">MOBILITY PRODUCTS</span>
            <h1 class="slide-title">SENSORS</h1>
            <div class="product-grid">
                <!-- 1. PTC Heater -->
                <div class="p-card" onclick="openProductModal('ptc-heater')">
                    <img src="assets/19.png">
                    <h3>PTC Heater</h3>
                    <div style="height:30px"></div>
                    <p>A self regulating electric heater that uses the resistance characteristics of a ceramic semiconductor to automatically limit current above a certain temperature</p>
                </div>
                <!-- 2. Limit Sensor -->
                <div class="p-card" onclick="openProductModal('limit-sensor')">
                    <img src="assets/11.png">
                    <h3>Limit Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A precision detection sensor that senses the operating range of a mechanical device or outputs a switching signal when the preset limit position is reached</p>
                </div>
                <!-- 3. Resolver Sensor -->
                <div class="p-card" onclick="openProductModal('resolver')">
                    <img src="assets/2.png">
                    <h3>Resolver Sensor</h3>
                    <div style="height:15px"></div>
                    <p>An analog angle-detection sensor that converts mechanical angular displacement into electrical signals using electromagnetic induction</p>
                </div>
                <!-- 4. Position Indicator Switch -->
                <div class="p-card" onclick="openProductModal('pos-indicator')">
                    <img src="assets/5.png">
                    <h3>Position Indicator Switch</h3>
                    <div style="height:15px"></div>
                    <p>A sensor switch mounted on the transfer case that detects the current drive mode such as 2H 4H or 4L and sends the signal to the ECU</p>
                </div>
                 <!-- 5. Torque Sensor -->
                 <div class="p-card" onclick="openProductModal('torque-sensor')">
                    <img src="assets/15.png">
                    <h3>Torque Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that detects torsional deformation applied to a rotating shaft and converts the torque value into an electrical signal</p>
                </div>
            </div>
        </div>

        <!-- 09. SENSORS II -->
        <div class="slide">
            <span class="slide-tag">MOBILITY PRODUCTS</span>
            <h1 class="slide-title">SENSORS</h1>
            <div class="product-grid">
                <!-- 6. Pressure Sensor -->
                <div class="p-card" onclick="openProductModal('pressure-sensor')">
                    <img src="assets/1.png">
                    <h3>Pressure Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that uses piezoelectric effects to convert pressure into electrical signals</p>
                </div>
                 <!-- 7. TPMS Sensor -->
                 <div class="p-card" onclick="openProductModal('tpms-sensor')">
                    <img src="assets/16.png">
                    <h3>TPMS Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that detects tire pressure and temperature in real time and sends the information to the driver</p>
                </div>
                 <!-- 8. APS -->
                 <div class="p-card" onclick="openProductModal('aps-sensor')">
                    <img src="assets/3.png">
                    <h3>Electronic Accelerator Pedal Sensor, APS</h3>
                    <div style="height:15px"></div>
                    <p>A device that converts the pedal depression depth angle into an electrical signal and delivers it to the ECU to control vehicle speed</p>
                </div>
                 <!-- 9. Speed Sensor -->
                 <div class="p-card" onclick="openProductModal('speed-sensor')">
                    <img src="assets/18.png">
                    <h3>Speed Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that measures vehicle driving speed and sends the information to the ECU and instrument cluster</p>
                </div>
                <!-- 10. Transfer Case Sensor -->
                 <div class="p-card" onclick="openProductModal('transfer-case')">
                    <img src="assets/4.png">
                    <h3>Transfer Case Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A key component that switches between two wheel drive and four wheel drive according to driving conditions and detects and controls the distribution of power between the front and rear wheels.</p>
                </div>
            </div>
        </div>

        <!-- 10. SENSORS III -->
        <div class="slide">
            <span class="slide-tag">MOBILITY PRODUCTS</span>
            <h1 class="slide-title">SENSORS</h1>
            <div class="product-grid">
                <!-- 11. Map sensor -->
                <div class="p-card" onclick="openProductModal('map-sensor')">
                    <img src="assets/10.png">
                    <h3>Map sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that detects the absolute pressure inside the intake manifold and sends the information to the ECU</p>
                </div>
                <!-- 12. Steering Angle Sensor -->
                <div class="p-card" onclick="openProductModal('steering-angle')">
                    <img src="assets/8.png">
                    <h3>Steering Angle Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that measures the steering angle direction and rotational speed of the steering wheel and sends the information to the ECU</p>
                </div>
                <!-- 13. Transmission Position Sensor -->
                <div class="p-card" onclick="openProductModal('trans-position')">
                    <img src="assets/17.png">
                    <h3>Transmission Position Sensor</h3>
                    <div style="height:15px"></div>
                    <p>Sensors to detect gear lever positions (P, R, N, D, etc.) in the electric vehicle transmission system and to the ECU and instrument cluster</p>
                </div>
                 <!-- 14. 4WD Electronic Shift Control Sensor -->
                 <div class="p-card" onclick="openProductModal('4wd-shift')">
                    <img src="assets/20.png">
                    <h3>4WD Electronic Shift Control Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A core sensor for electronic 4WD systems that precisely detects the actuator position inside the transfer case and sends the information to the ECU</p>
                </div>
                <!-- 15. Water Temperature Sensor -->
                <div class="p-card" onclick="openProductModal('water-temp')">
                    <img src="assets/6.png">
                    <h3>Water Temperature Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that measures engine coolant temperature and sends the information to the ECU to control cooling fan operation and fuel injection</p>
                </div>
            </div>
        </div>

        <!-- 11. SENSORS IV -->
        <div class="slide">
            <span class="slide-tag">MOBILITY PRODUCTS</span>
            <h1 class="slide-title">SENSORS</h1>
            <div class="product-grid">
                <!-- 16. Crankshaft Position Sensor -->
                <div class="p-card" onclick="openProductModal('crank-position')">
                    <img src="assets/9.png">
                    <h3>Crankshaft Position Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that detects the rotational speed and position of the crankshaft and sends the information to the ECU</p>
                </div>
                <!-- 17. Oxygen Sensor -->
                <div class="p-card" onclick="openProductModal('oxygen-sensor')">
                    <img src="assets/12.png">
                    <h3>Oxygen Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that detects the oxygen concentration in exhaust gas in real time and sends the information to the ECU to control the air-fuel mixture ratio</p>
                </div>
                 <!-- 18. Throttle Position Sensor -->
                 <div class="p-card" onclick="openProductModal('tps')">
                    <img src="assets/7.png">
                    <h3>Throttle Position Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that detects the opening degree of the throttle valve and sends the information to the ECU</p>
                </div>
                 <!-- 19. Knock Sensor -->
                  <div class="p-card" onclick="openProductModal('knock-sensor')">
                    <img src="assets/14.png">
                    <h3>Knock Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A sensor that detects abnormal combustion knocking inside the engine and sends the information to the ECU</p>
                </div>
                 <!-- 20. Idle Speed Control Valve -->
                  <div class="p-card" onclick="openProductModal('idle-valve')">
                    <img src="assets/13.png">
                    <h3>Idle Speed Control Valve</h3>
                    <div style="height:15px"></div>
                    <p>A valve that adjusts airflow according to ECU control signals during engine idling to maintain a stable idle speed</p>
                </div>
            </div>
        </div>

        <!-- 11. ACTUATORS -->
        <div class="slide">
            <span class="slide-tag">MOBILITY PRODUCTS</span>
            <h1 class="slide-title">ACTUATORS</h1>
            <div class="product-grid">
                <div class="p-card" onclick="openProductModal('bldc-motor')">
                    <img src="assets/25.png">
                    <h3>BLDC Motor</h3>
                    <div style="height:15px"></div>
                    <p>A high efficiency motor with a brushless structure that minimizes friction loss and electrical noise and enables precise control</p>
                </div>
                <div class="p-card" onclick="openProductModal('digital-shift')">
                    <img src="assets/22.png">
                    <h3>Digital-Electric Shift Control Actuator</h3>
                    <div style="height:15px"></div>
                    <p>An actuator that electronically controls gear shifting in automatic transmissions and switches 4WD transfer case modes such as 2H 4H and 4L</p>
                </div>
                <div class="p-card" onclick="openProductModal('ac-motor')">
                    <img src="assets/24.png">
                    <h3>AC Motor</h3>
                    <div style="height:15px"></div>
                    <p>An electric motor that generates rotational motion using AC power and provides high durability and stable performance for HVAC systems</p>
                </div>
                <div class="p-card" onclick="openProductModal('fan-clutch')">
                    <img src="assets/21.png">
                    <h3>Electronic Fan Clutch Actuator</h3>
                    <div style="height:15px"></div>
                    <p>An electronic actuator that controls the rotational speed of the engine cooling fan</p>
                </div>
                <div class="p-card" onclick="openProductModal('4wd-geared')">
                    <img src="assets/23.png">
                    <h3>4WD Geared Actuator</h3>
                    <div style="height:15px"></div>
                    <p>A drive unit that shifts the gears inside the transfer case in an electronic 4WD system</p>
                </div>
                <div class="p-card" onclick="openProductModal('hidden-door-handle')" style="display:none">
                    <img src="assets/hidden_door_handle.png">
                    <h3>Hidden Door Handle Actuator</h3>
                    <div style="height:15px"></div>
                    <p>An integrated hidden handle flush with the door that automatically protrudes when opening, reducing air resistance and providing a premium design with enhanced security</p>
                </div>
            </div>
        </div>

        <!-- 12. CONTROLLERS -->
        <div class="slide">
            <span class="slide-tag">MOBILITY PRODUCTS</span>
            <h1 class="slide-title">CONTROLLERS</h1>
            <div class="product-grid">
                <div class="p-card" onclick="openProductModal('proximity')">
                    <img src="assets/26.png">
                    <h3>Smart Electronic Proximity Sensor</h3>
                    <div style="height:15px"></div>
                    <p>A non contact sensor that detects the proximity of an object using magnetic capacitive or ultrasonic principles</p>
                </div>
                <div class="p-card" onclick="openProductModal('flush-handle')">
                    <img src="assets/29.png">
                    <h3>Flush Door Handle Control Unit</h3>
                    <div style="height:15px"></div>
                    <p>A control unit that automatically deploys and retracts the door handle based on smart key signals proximity detection and vehicle lock status</p>
                </div>
                <div class="p-card" onclick="openProductModal('smart-key')">
                    <img src="assets/27.png">
                    <h3>Smart Keyless Entry</h3>
                    <div style="height:15px"></div>
                    <p>An electronic control module that uses RF communication and encryption technology to perform vehicle door unlocking and ignition control</p>
                </div>
                <div class="p-card" onclick="openProductModal('tcu')">
                    <img src="assets/28.png">
                    <h3>Transmission Control Unit</h3>
                    <div style="height:15px"></div>
                    <p>A control unit that optimally distributes driving power between the front and rear wheels to enhance driving stability and traction</p>
                </div>
                <div class="p-card" onclick="openProductModal('smart-hvac')">
                    <img src="assets/30.png">
                    <h3>Multi-purpose, high-efficiency, energy-saving temperature and humidity control system</h3>
                    <div style="height:15px"></div>
                    <p>A multi purpose high efficiency energy saving temperature and humidity control system for HVAC applications used in automotive and agricultural industries</p>
                </div>
            </div>
        </div>





        <!-- 17. CONTACT -->
        <div class="slide">
            <span class="slide-tag">Support</span>
            <h1 class="slide-title">Directions</h1>
            <p style="text-align: center; color: #aaa; font-size: 20px; max-width: 1920px; margin: 0 auto 30px auto; line-height: 1.6; font-family: var(--font-body);">
                We enhance safety and efficiency in various fields such as automobiles, motorcycles, and industrial facilities, creating sustainable industrial development and future customer value together
            </p>

            <!-- Divider -->
            <div class="mobile-hide" style="width: 100%; height: 1px; background: #333; margin-bottom: 40px; max-width: 1400px; margin-left: auto; margin-right: auto;"></div>

            <div class="directions-container">
                <div class="dir-left">
                    <h2 class="dir-section-title">Headquarters and<br>Research Center</h2>
                </div>
                <div class="dir-right">
                    <!-- Headquarters -->
                    <div class="dir-item">
                        <h3 class="dir-loc-title">Headquarters</h3>
                        <p class="dir-address">Room 204, Gyeongnam Technopark, 88 Somang gil, Juchon myeon, Gimhae si, Gyeongsangnam do, Republic of Korea</p>
                    </div>
                    
                    <!-- Research Center -->
                    <div class="dir-item">
                        <h3 class="dir-loc-title">Research Center</h3>
                        <p class="dir-address">45, Bansong-ro 525beon-gil, Haeundae-gu, Busan, Republic of Korea</p>
                    </div>
                    
                    <div class="mobile-hide" style="width: 100%; height: 1px; background: #333; margin-top: 60px;"></div>
                </div>
            </div>

            <style>
                .directions-container {
                    display: flex; width: 100%; max-width: 1400px; margin: 0 auto;
                    justify-content: flex-start; align-items: flex-start; padding-bottom: 60px;
                }
                .dir-left { width: 30%; }
                .dir-right { width: 70%; padding-left: 0; }
                
                .dir-section-title { font-size: 24px; font-weight: 700; color: #fff; line-height: 1.4; font-family: var(--font-main); letter-spacing: -0.5px; }
                
                .dir-item { margin-bottom: 60px; }
                .dir-item:last-of-type { margin-bottom: 0; }
                
                .dir-loc-title { color: #c0ff00; font-size: 20px; margin-bottom: 15px; font-family: var(--font-sub); font-weight: 500; letter-spacing: 1px; }
                .dir-address { color: #fff; font-size: 22px; line-height: 1.5; font-family: var(--font-main); font-weight: 600; letter-spacing: -0.5px; }

                @media (max-width: 1024px) {
                    .directions-container { 
                        flex-direction: column; 
                        padding: 0 !important; 
                        margin: 0 !important; 
                        min-height: 0 !important;
                        height: auto !important;
                    }
                    .dir-left { display: none !important; }
                    .dir-right { 
                        width: 100%; 
                        padding: 0 20px !important; 
                        margin: 0 !important;
                    }
                    .dir-address { font-size: 18px; }
                    .dir-item { margin-bottom: 30px !important; }
                    .dir-item:last-of-type { margin-bottom: 0 !important; }
                    
                    /* Hide Map/Grey Square on Mobile */
                    .directions-container iframe, 
                    .directions-container .map-placeholder, 
                    .mobile-hide, 
                    .dir-right img, 
                    .dir-right iframe, 
                    .dir-right > div:not(.dir-item) { 
                        display: none !important; 
                    }
                    
                    /* Completely override Contact slide spacing */
                    .slide:has(.directions-container) { 
                        padding: 90px 20px 40px 20px !important;
                        min-height: 0 !important;
                        height: auto !important;
                    }
                    .slide:has(.directions-container) .slide-tag { 
                        margin-bottom: 15px !important; 
                    }
                    .slide:has(.directions-container) .slide-title { 
                        margin-bottom: 15px !important; 
                    }
                    .slide:has(.directions-container) > p { 
                        margin-bottom: 20px !important; 
                    }
                }
            </style>
        </div>


        <!-- CONTROLS -->
        <div class="hud">
            <button class="nav-btn" onclick="go(current-1)">&lt;</button>
            <div class="pg-num"><span id="cur">01</span> / <span id="tot">17</span></div>
            <button class="nav-btn" onclick="go(current+1)">&gt;</button>
        </div>

    </main>

    <!-- 18. PRODUCT DETAIL MODAL HTML -->
    <div class="product-modal" id="productModal">
        <div class="product-modal-close" onclick="closeProductModal()">✕ CLOSE</div>
        <div class="product-modal-inner">
            <div class="modal-content-wrapper">
                <!-- TOP: Info & Image -->
                <div class="product-modal-top">
                    <div class="product-modal-left">
                        <div class="product-modal-category" id="pModalCategory">Category</div>
                        <h2 class="product-modal-title" id="pModalTitle">Product Title</h2>
                        <p class="product-modal-desc" id="pModalDesc">Description...</p>
                        
                        <!-- Specs Row -->
                        <div class="product-modal-specs" id="pModalSpecs"></div>
                    </div>
                    
                    <!-- Right Column (Image) -->
                    <div class="product-modal-right" onclick="openLightbox(document.getElementById('pModalImg').src)">
                        <img id="pModalImg" src="assets/19.png" alt="Product" style="cursor: pointer;">
                        <!-- Zoom Icon -->
                        <div class="product-modal-zoom">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* Modal Overlay */
        .product-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 99999;
            display: none; align-items: center; justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        /* Lightbox (Image Modal) - MUST BE HIGHER Z-INDEX */
        #imgModal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 100001 !important;
            display: none; align-items: center; justify-content: center;
            backdrop-filter: blur(5px);
        }
        #imgModal.open { display: flex; }
        #imgModal .modal-content {
            position: relative; width: auto; height: auto;
            max-width: 90%; max-height: 90%;
            display: flex; justify-content: center; align-items: center;
            background: transparent; pointer-events: auto;
        }
        #imgModal img {
            max-width: 100%; max-height: 85vh;
            border-radius: 4px; box-shadow: 0 0 50px rgba(0,0,0,0.8);
            object-fit: contain;
        }
        #imgModal .modal-close {
            position: absolute; top: -40px; right: 0;
            color: #fff; font-size: 16px; cursor: pointer;
            font-family: var(--font-sub); letter-spacing: 2px;
            opacity: 0.8; transition: 0.3s;
        }
        #imgModal .modal-close:hover { opacity: 1; color: var(--neon-cyan); }
        .product-modal.open { display: flex; }

        /* Close Button */
        .product-modal-close {
            position: absolute; top: 30px; right: 40px;
            color: #fff; cursor: pointer; font-size: 14px; letter-spacing: 2px;
            z-index: 10001; font-weight: 600; opacity: 0.6; transition: 0.3s;
            display: flex; align-items: center; gap: 10px;
        }
        .product-modal-close:hover { opacity: 1; }

        /* Modal Inner */
        .product-modal-inner {
            width: 95%; max-width: 1800px; height: 90vh; /* Maximize height usage */
            background: #050505; border: none !important; 
            border-radius: 4px; 
            overflow: hidden; /* Hide scrollbar if possible, but keep accessible */
            position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            overscroll-behavior: contain; /* Prevent parent scroll */
        }

        /* Content Wrapper */
        /* Content Wrapper -> Row Layout */
        .modal-content-wrapper { padding: 40px; display: flex; flex-direction: row; gap: 40px; height: 100%; box-sizing: border-box; }

        /* Top Section */
        /* Top Section Removed wrapper since main is flex row now */
        .product-modal-top { 
            display: contents; /* Allow children to be grid/flex items of wrapper */
        }
        
        .product-modal-left { 
            flex: 6; /* 60% Width for Text */
            display: flex; flex-direction: column; justify-content: center; 
            overflow-y: auto; 
            padding-right: 40px; /* More spacing for text */
        }
        
        .product-modal-right {
            flex: 4; /* 40% Width for Image */
            /* Removed background color to remove the "box" feel */
            background: transparent; 
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            height: 100%; position: relative; border: none !important;
            cursor: pointer; overflow: hidden;
            padding: 0; /* Removed padding to maximize image size within container */
        }
        .product-modal-right img { width: 100%; height: 100%; object-fit: contain; }
        .product-modal-right:hover img { transform: scale(1.02); transition: 0.3s; }

        /* Typography */
        .product-modal-category { color: var(--neon-cyan); font-size: 13px; margin-bottom: 10px; font-weight: 600; letter-spacing: 2px; font-family: var(--font-sub); }
        .product-modal-title { color: #fff; font-size: 42px; font-weight: 700; margin-bottom: 20px; line-height: 1.1; letter-spacing: -1px; font-family: var(--font-main); }
                    
        /* Description Area */
        .product-modal-desc { 
            color: #ddd; font-size: 15px; line-height: 1.6; margin-bottom: 30px; 
            max-width: 100%; font-family: sans-serif; font-weight: 300; 
            white-space: pre-line;
            flex: 1; /* Allow it to fill space before stats */
        }

        /* Specs - Restored Circular Icons */
        .product-modal-specs { display: flex; flex-wrap: wrap; gap: 30px; margin-top: auto; }
        .spec-item { 
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            background: transparent; border: none; padding: 0;
            width: 90px; height: auto; gap: 10px; vertical-align: top;
        }
        .spec-icon-circle { 
            display: flex; align-items: center; justify-content: center;
            width: 60px; height: 60px; border-radius: 50%; 
            border: 1px solid #444; background: rgba(255,255,255,0.02);
            transition: 0.3s;
        } 
        .spec-item:hover .spec-icon-circle { border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0,255,255,0.2); color: var(--neon-cyan); }
        .spec-icon-circle svg { width: 28px; height: 28px; fill: none; stroke: currentColor; stroke-width: 1.5; }

        .spec-label { display: block; font-size: 12px; color: #888; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin: 0; } 
        .spec-value { font-size: 12px; color: #fff; font-weight: 600; font-family: var(--font-sub); margin:0; letter-spacing: 0.5px; }


        /* Zoom */
        .product-modal-zoom {
            position: absolute; bottom: 20px; right: 20px;
            width: 44px; height: 44px; border-radius: 50%;
            background: #111; border: 1px solid #444; color: #fff; 
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s;
        }
        .product-modal-zoom:hover { background: var(--neon-green); color: #000; border-color: var(--neon-green); }

        /* Scrollbar */
        .product-modal-inner::-webkit-scrollbar { width: 8px; }
        .product-modal-inner::-webkit-scrollbar-track { background: #050505; }
        .product-modal-inner::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        .product-modal-inner::-webkit-scrollbar-thumb:hover { background: #555; }

        /* Mobile Responsive */
        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .product-modal-inner { width: 100%; height: 100%; border: none; border-radius: 0; }
            /* Stack Content: Image Top, Text Bottom */
            .modal-content-wrapper { 
                flex-direction: column !important; 
                padding: 80px 20px 20px 20px; /* Reduced bottom padding */
                gap: 20px; 
                overflow-y: auto; /* Scroll only if needed */
                scrollbar-width: none; /* Firefox */
                -ms-overflow-style: none; /* IE/Edge */
            }
            .modal-content-wrapper::-webkit-scrollbar { display: none; } /* Chrome/Safari */
            .product-modal-right { 
                order: -1; /* Image Top */
                width: 100%; height: auto; max-height: 300px;
                flex-shrink: 0; margin-bottom: 10px;
                display: flex; justify-content: center; background: rgba(255,255,255,0.02); border-radius: 8px;
            }
            .product-modal-right img { max-height: 250px; width: auto; max-width: 100%; }
            
            .product-modal-left { width: 100%; max-width: 100%; text-align: left; order: 2; }
            .product-modal-title { font-size: 32px; margin-bottom: 20px; }
            .product-modal-specs { gap: 15px; justify-content: flex-start; flex-wrap: wrap; }
            .spec-item { width: 70px; } /* Smaller icons on mobile */
            .spec-icon-circle { width: 50px; height: 50px; }
        }
    </style>

    <style>
        /* Partners Grid */
        .partners-grid-container {
            display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px;
            padding: 40px; width: 100%; max-width: 1200px; margin: 0 auto;
        }
        .partner-logo {
            display: flex; align-items: center; justify-content: center;
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);
            height: 80px; border-radius: 8px; color: #888; font-family: var(--font-sub);
            font-size: 16px; font-weight: 600; text-align: center;
            transition: 0.3s; cursor: default;
        }
        .partner-logo:hover {
            background: rgba(255,255,255,0.1); color: white;
            border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0,240,255,0.2);
            transform: translateY(-5px);
        }

        /* Hexagon Logo - Removed but keeping class for safety */
        .hexagon-wrapper { display: none; }

        /* Overview Table */
        .overview-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .overview-table th { 
            text-align: left; padding: 10px 5px; color: var(--neon-cyan); 
            border-bottom: 1px solid rgba(255,255,255,0.1); width: 130px; font-family: var(--font-sub);
        }
        .overview-table td { 
            padding: 10px 5px; color: #ddd; border-bottom: 1px solid rgba(255,255,255,0.05); line-height: 1.3;
        }
        .overview-table tr:last-child th, .overview-table tr:last-child td { border-bottom: none; }

        /* Make sure modal is above everything */
        .product-modal { z-index: 9999; }
    </style>

    <script>
        // === 3D BACKGROUND (Slow & subtle) ===
        const container = document.getElementById('webgl-container');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        const sphereGeo = new THREE.IcosahedronGeometry(9, 2);
        // Base opacity 0.04 (80% of 0.05)
        const sphereMat = new THREE.MeshBasicMaterial({ color: 0x00ff88, wireframe: true, transparent: true, opacity: 0.04 });
        const mainSphere = new THREE.Mesh(sphereGeo, sphereMat);
        scene.add(mainSphere);

        const pGeo = new THREE.BufferGeometry();
        const pCount = 800;
        const pArr = new Float32Array(pCount * 3);
        for(let i=0; i<pCount*3; i++) pArr[i] = (Math.random()-0.5) * 100;
        pGeo.setAttribute('position', new THREE.BufferAttribute(pArr, 3));
        // Star Size 0.064 (80% of 0.08), Opacity 0.24 (80% of 0.3)
        const pMat = new THREE.PointsMaterial({ size: 0.064, color: 0x00ffff, transparent: true, opacity: 0.24 });
        const stars = new THREE.Points(pGeo, pMat);
        scene.add(stars);

        camera.position.z = 22;
        let targetX = 0, targetScale = 1.0;
        let mouseX=0, mouseY=0;

        document.addEventListener('mousemove', e => {
            mouseX = (e.clientX/window.innerWidth)*2-1;
            mouseY = -(e.clientY/window.innerHeight)*2+1;
        });

        function animate() {
            requestAnimationFrame(animate);

            // Theme Color Update (Added from Before version logic)
            const isLight = document.body.classList.contains('light-mode');
            if(isLight) {
                // Light Mode: Darker Colors but specific opacity (80% of Before's 0.08 -> 0.064)
                mainSphere.material.color.setHex(0x006644); // Dark Green
                mainSphere.material.opacity = 0.064; 
                stars.material.color.setHex(0x005580); // Dark Blue-ish
            } else {
                // Dark Mode: Neon Colors
                mainSphere.material.color.setHex(0x00ff88); // Neon Green
                mainSphere.material.opacity = 0.04; // 80% of 0.05
                stars.material.color.setHex(0x00ffff); // Neon Cyan
            }

            mainSphere.rotation.y += 0.0003; 
            mainSphere.rotation.x += 0.0001; 
            stars.rotation.y -= 0.0001;
            
            camera.position.x += (mouseX*0.5 - camera.position.x)*0.03;
            camera.position.y += (mouseY*0.5 - camera.position.y)*0.03;
            camera.lookAt(scene.position);
            
            mainSphere.position.x += (targetX - mainSphere.position.x)*0.05;
            renderer.render(scene, camera);
        }
        animate();
        window.addEventListener('resize', ()=>{
            camera.aspect=window.innerWidth/window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // === UI & NAVIGATION ===
        const slides = document.querySelectorAll('.slide');
        const curEl = document.getElementById('cur');
        const totEl = document.getElementById('tot');
        const webglEl = document.getElementById('webgl-container');
        let current = 0;
        
        totEl.innerText = slides.length;

        function updateState() {
            // Background Logic: Shift sphere to right when standard page
            if(current === 0) {
                targetX = 0; webglEl.style.filter = 'blur(0px)'; webglEl.style.opacity = '1';
            } else {
                targetX = 8; webglEl.style.filter = 'blur(2px)'; webglEl.style.opacity = '0.4';
            }
            // Slide Logic
            slides.forEach((s, i) => {
                if(i === current) s.classList.add('active');
                else s.classList.remove('active');
            });
            curEl.innerText = (current + 1).toString().padStart(2, '0');

            // === LANGUAGE SWITCHER SYNC ===
            // Dynamically update hrefs to include current slide
            document.querySelectorAll('.lang-link, .m-lang-link').forEach(link => {
                // Get base path from href (clean query params if any)
                let base = link.getAttribute('href').split('?')[0];
                link.setAttribute('href', base + '?slide=' + current);
            });
        }

        function go(idx) {
            if(idx < 0 || idx >= slides.length) return;
            current = idx;
            sessionStorage.setItem('currentSlideIndex', current);
            updateState();
        }

        // === MODAL LOGIC ===
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('modalImg');

        window.openModal = function(src) {
            modalImg.src = src;
            modal.classList.add('open');
        }
        window.closeModal = function() {
            modal.classList.remove('open');
        }

        // === PRODUCT DETAIL MODAL ===
        const productModal = document.getElementById('productModal');
        const productData = {
            'ptc-heater': {
                category: 'Sensor',
                title: 'PTC Heater',
                desc: 'A self regulating electric heater that uses the resistance characteristics of a ceramic semiconductor to automatically limit current above a certain temperature. It is applied in electric vehicles (EV), hybrid vehicles (HEV), and HVAC systems to provide rapid heating, stable temperature maintenance, and improved energy efficiency.',
                specs: [
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-30°C ~ +85°C' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path></svg>', label: 'Protection', value: 'IP50' },
                    { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Op. Voltage', value: '8V ~ 16V' }
                ],
                img: 'assets/19.png',
                details: `A self regulating electric heater that uses the resistance characteristics of a ceramic semiconductor to automatically limit current above a certain temperature. It is applied in electric vehicles EV hybrid vehicles HEV and HVAC systems to provide rapid heating stable temperature maintenance and improved energy efficiency.
                
                Rated voltage: 13.5V ±0.1V
Rated power: 1200 W +5% / -10%
Operating voltage range: 8V to 16V
Protection rating: IP50
Operating temperature: -30°C to +85°C
Storage temperature: -40°C to +90°C
Temperature rise: 13 to 15 K`
            },
            'limit-sensor': {
                category: 'Sensor',
                title: 'Limit Sensor',
                desc: 'A precision detection sensor that senses the operating range of a mechanical device or outputs a switching signal when the preset limit position is reached.',
                specs: [
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>', label: 'Type', value: 'Mechanical' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>', label: 'Accuracy', value: 'High' },
                    { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Output', value: 'Switch' }
                ],
                img: 'assets/11.png',
                details: `Its metal housing structure provides excellent shock resistance and durability enabling use in high reliability environments such as industrial automation aviation defense and machinery systems.

Operating voltage: DC 5V to 28V depending on model
Output type: Switching signal ON OFF
Detection type: Mechanical plunger or non contact magnetic sensor
Response time: ≤1 ms
Repeatability: ±0.01 mm or less
Operating temperature: −40°C to +150°C
Ingress protection: IP67 or higher
Connector type: Aviation connector or custom type`
            },
            'resolver': {
                category: 'Sensor',
                title: 'Resolver Sensor',
                desc: 'An analog angle detection sensor that converts mechanical angular displacement into electrical signals using electromagnetic induction and is widely used for motor control and position detection in electric motors aircraft and automotive systems.',
                specs: [
                    { icon: '<svg viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>', label: 'Type', value: 'Analog' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>', label: 'Detection', value: 'Angle' },
                    { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Signal', value: 'EMF' }
                ],
                img: 'assets/2.png',
                details: `An analog angle detection sensor that converts mechanical angular displacement into electrical signals using electromagnetic induction and is widely used for motor control and position detection in electric motors aircraft and automotive systems.
                
                Input voltage: 7V rms
Output type: Speed 1X 32X
Sensor accuracy: ±20 arc sec
Frequency: 2000±100 Hz
Operating temperature: −40°C to +125°C
Output: Two orthogonal coils generating sin θ and cos θ voltages
R/D conversion: Converts analog signals to digital
Connector type: 6 pin or 8 pin`
            },
            
            // --- NEW SENSORS ADDED ---
            // --- NEW SENSORS ADDED ---
            'pos-indicator': { 
                category: 'Sensor', 
                title: 'Position Indicator Switch', 
                img: 'assets/5.png', 
                desc: 'A sensor switch mounted on the transfer case that detects the current drive mode such as 2H 4H or 4L and sends the signal to the ECU.', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +135℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67+' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '2 or 3 pin' }
                ], 
                details: `A sensor switch mounted on the transfer case that detects the current drive mode such as 2H 4H or 4L and sends the signal to the ECU and verifies whether the selected four wheel drive mode is properly engaged and displays the status on the instrument cluster.

Operating voltage: DC 5V ±0.05V
Output type: Linear Potentiometer Output
Detection type: Mechanical contact type for position detection
Thread size: M16 x 1.5 depending on vehicle model
Operating temperature: −40°C to +135°C
Ingress protection: IP67 or higher
Connector type: 2 pin or 3 pin`
            },
            'torque-sensor': { 
                category: 'Sensor', 
                title: 'Torque Sensor', 
                img: 'assets/15.png', 
                desc: 'A sensor that detects torsional deformation applied to a rotating shaft and converts the torque value into an electrical signal.', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +145℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 1ms' }
                ], 
                details:`A sensor that detects torsional deformation applied to a rotating shaft and converts the torque value into an electrical signal. It uses non contact magnetic sensing technology providing no wear high linearity and fast response and is optimized for electronic power steering EPS and drive control systems.

Measurement type: Non contact magnetic induction
Measurement range: ±10 N·m to ±150 N·m
Operating voltage: DC 5V ±0.1V
Output signal: Analog voltage or PWM
Accuracy: ±1% F.S. or less
Response time: ≤1 ms
Operating temperature: −40°C to +145°C
Ingress protection: IP67
Output wire configuration: 3 wire or 5 wire` 
            },
            'pressure-sensor': { 
                category: 'Sensor', 
                title: 'Pressure Sensor', 
                img: 'assets/1.png', 
                desc: 'A sensor that uses piezoelectric effects to convert pressure into electrical signals.', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: '≥ IP67' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +125℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '2 or 3 pin' }
                ],
                details:`It is a sensor that converts pressure into electrical signals using piezoelectric effects, and is used in various fields such as automobile industry, medical care, and environmental control due to its excellent durability and corrosion resistance. With ceramic diaphragm structure, when pressure acts on the diaphragm, deformation occurs, and thick film resistors (Whitstone Bridge) convert it into electrical signals

Operating voltage: DC 5V ± 0.05V
Output method: mV/V or 0.5–4.5V Proportional Output signal
Pressure law: 0 to 600 bar (0 to 60 MPa)
Sensor Degree: 0.05–0.5% linearity
Operating temperature: -40°C to +125°C
Waterproof rating: IP67 or higher
Connector type: 2 pins or 3 pins
`
            },
            'tpms-sensor': { 
                category: 'Sensor', 
                title: 'TPMS Sensor', 
                img: 'assets/16.png', 
                desc: 'A sensor that detects tire pressure and temperature in real time and sends the information to the driver.', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Temp. Range', value: '-40℃ ~ +135℃' },
                    { icon: '<svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>', label: 'Signal', value: 'Digital' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M4.93 4.93a10 10 0 0 1 14.14 0"></path><path d="M7.76 7.76a6 6 0 0 1 8.48 0"></path><path d="M10.59 10.59a2 2 0 0 1 2.82 0"></path></svg>', label: 'Type', value: 'RF Wireless' }
                ], 
                details:`A sensor that detects tire pressure and temperature in real time and sends the information to the driver.

Sensor type: Combined pressure and temperature sensor
Operating voltage: DC 3V
Pressure range: 0 to 800 kPa
Pressure accuracy: ±7 kPa
Temperature range: −40°C to +135°C
Temperature accuracy: ±2°C
Communication type: RF wireless communication
Output signal: Digital transmission
Response interval: Approximately 1 second while driving 60 seconds when stationary`
            },
            'aps-sensor': { 
                category: 'Sensor', 
                title: 'Electronic Accelerator Pedal Sensor, APS', 
                img: 'assets/3.png', 
                desc: 'Electronic Accelerator Pedal Sensor converting pedal depression into electrical signal.', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +125℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '4 or 6 pin' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 5ms' }
                ],
                details:`A device that converts the pedal depression depth angle into an electrical signal and delivers it to the ECU to control vehicle speed.

Type: Contact type sensor Dual Potentiometer
Output voltage range: 0.5V to 4.5V
Supply voltage: DC 5V ±10%
Operating temperature: −40°C to +125°C
Response time: 5 ms or less
Environmental performance: Designed to withstand vibration humidity and EMI
Connector type: 4 pin or 6 pin`
            },
            'speed-sensor': { 
                category: 'Sensor', 
                title: 'Speed Sensor', 
                img: 'assets/18.png', 
                desc: 'Measures vehicle driving speed and sends information to ECU and cluster.', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Temp. Range', value: '-40℃ ~ +135℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 1ms' }
                ], 
                details: `A sensor that measures vehicle driving speed and sends the information to the ECU and instrument cluster. This data is used in various vehicle control systems such as engine control transmission control ABS and cruise control.

Detection type: Inductive Hall Effect Sensor
Operating voltage: DC 5V ±0.1V
Output signal: Digital pulse or analog voltage
Detection range: 0 to 15000 rpm
Response time: ≤1 ms
Temperature range: −40°C to +135°C
Connector type: 2 pin or 3 pin
Ingress protection: IP67`
            },
            
            'map-sensor': { 
                category: 'Sensor', 
                title: 'Map sensor', 
                img: 'assets/10.png', 
                desc: 'A sensor that detects the absolute pressure inside the intake manifold and sends the information to the ECU', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +135℃' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 1ms' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '3 pin' }
                ],
                details:`A sensor that detects the absolute pressure inside the intake manifold and sends the information to the ECU. This data is used to calculate engine load and control fuel injection and ignition timing.

Sensor type: MEMS based absolute pressure sensor
Operating voltage: DC 5V ±0.1V
Output range: 20 to 250 kPa depending on vehicle model
Output type: Analog voltage output
Accuracy: ±1.5 kPa at 25°C
Response time: ≤1 ms
Operating temperature: −40°C to +135°C
Connector type: 3 pin`
            },
            'trans-position': { 
                category: 'Sensor', 
                title: 'Transmission Position Sensor', 
                img: 'assets/17.png', 
                desc: 'Sensors to detect gear lever positions (P, R, N, D, etc.) in the electric vehicle transmission system and to the ECU and instrument cluster', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Temp. Range', value: '-40℃ ~ +200℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 5ms' }
                ],
                details:`It ensures that the vehicle starts only in the correct gear position and that shift control and safety functions operate properly.

Detection type: Electrical contact Non contact magnetic sensor
Operating voltage: DC 5V ±0.05V
Output type: Analog voltage or digital switching signal
Detection range: P R N D M gear positions
Accuracy: ±1°
Response time: ≤5 ms
Temperature range: −40°C to +200°C
Connector type: 3 pin or 6 pin
Ingress protection: IP67`
            },
            'steering-angle': { 
                category: 'Sensor', 
                title: 'Steering Angle Sensor', 
                img: 'assets/8.png', 
                desc: 'A sensor that measures the steering angle direction and rotational speed of the steering wheel and sends the information to the ECU', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +125℃' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 5ms' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '2pin/ 3pin /mult pin' }
                ],
                details:`A sensor that measures the steering angle direction and rotational speed of the steering wheel and sends the information to the ECU. This data is used as a key input for advanced driver assistance systems such as ESC lane keeping assist automatic parking and adaptive cruise control.

Sensor type: Contact type GMR Giant Magneto Resistance
Operating voltage: DC 5V ±0.1V
Measurement range: Steering angle ±720° two rotations or more
Output type: SENT CAN digital communication to the ECU
Resolution: ≤0.1°
Operating temperature: −40°C to +125°C
Response time: ≤5 ms
Connector type: 2 pin 3 pin or multi pin connector` 
            },
            'transfer-case': { 
                category: 'Sensor', 
                title: 'Transfer Case Sensor', 
                img: 'assets/4.png', 
                desc: 'A key component that switches between two wheel drive and four wheel drive according to driving conditions and detects and controls the distribution of power between the front and rear wheels.', 
                specs:[], 
                details:`A sensor that detects the gear lever position such as P R N D in an electric vehicle transmission system and sends the information to the ECU and instrument cluster. It ensures that the vehicle starts only in the correct gear position and that shift control and safety functions operate properly.

Detection type: Electrical contact Non contact magnetic sensor
Operating voltage: DC 5V ±0.05V
Output type: Analog voltage or digital switching signal
Detection range: P R N D M gear positions
Accuracy: ±1°
Response time: ≤5 ms
Temperature range: −40°C to +200°C
Connector type: 3 pin or 6 pin
Ingress protection: IP67`
            },
            '4wd-shift': { 
                category: 'Sensor', 
                title: '4WD Electronic Shift Control Sensor', 
                img: 'assets/20.png', 
                desc: 'A core sensor for electronic 4WD systems that precisely detects the actuator position inside the transfer case and sends the information to the ECU', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +135℃' },
                    { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Supply Voltage', value: 'DC 5V' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '3 ~ 8 pin' }
                ],
                details:`A core sensor for electronic 4WD systems that precisely detects the actuator position inside the transfer case and sends the information to the ECU enabling the vehicle to automatically switch driving modes between 2WD and 4WD.

Supply voltage: DC 5V
Output type: Analog Voltage / PWM Signal
Measurement range: 0° to 360°
Accuracy: ±1° or less
Operating temperature: −40°C to +135°C
Vibration resistance: Compliant with SAE J1455
Connector type: 3 to 8 pin depending on vehicle model`
            },
            'water-temp': { 
                category: 'Sensor', 
                title: 'Water Temperature Sensor', 
                img: 'assets/6.png', 
                desc: 'A sensor that measures engine coolant temperature and sends the information to the ECU to control cooling fan operation and fuel injection', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Temp. Range', value: '-40℃ ~ +150℃' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 1.5 sec' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '2 or 3 pin' }
                ],
                details:`A sensor that measures engine coolant temperature and sends the information to the ECU to control cooling fan operation and fuel injection.

Operating voltage: DC 5V
Output type: Resistance change type resistance decreases as temperature increases
Sensor type: NTC thermistor sensor or Bi metal
Thread size: M12 x 1.5 depending on vehicle model
Temperature range: −40°C to +150°C
Accuracy: ±2°C at 25°C
Response time: ≤1.5 seconds based on coolant flow condition
Connector type: 2 pin or 3 pin`
            },
            'crank-position': { 
                category: 'Sensor', 
                title: 'Crankshaft Position Sensor', 
                img: 'assets/9.png', 
                desc: 'A sensor that detects the rotational speed and position of the crankshaft and sends the information to the ECU', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +145℃' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 1ms' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '2 or 3 pin' }
                ],
                details:`A sensor that detects the rotational speed and position of the crankshaft and sends the information to the ECU. This information is essential for controlling ignition timing fuel injection timing and engine RPM.

Sensor type: Hall Sensor Magnetic Inductive Sensor
Operating voltage: DC 5V ±0.1V
Output type: Digital pulse signal
Target detection: Crankshaft tooth wheel Reluctor Ring
Operating temperature: −40°C to +145°C
Output frequency range: 0 to 10 kHz depending on engine speed
Response time: ≤1 ms
Connector type: 2 pin or 3 pin`
            },
            'oxygen-sensor': { 
                category: 'Sensor', 
                title: 'Oxygen Sensor', 
                img: 'assets/12.png', 
                desc: 'A sensor that detects the oxygen concentration in exhaust gas in real time and sends the information to the ECU to control the air-fuel mixture ratio', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +125℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: 'Multi-pin connector' },
                    { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Op. Voltage', value: 'DC 9 ~ 16V' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '300℃ ~ 900℃' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 100ms' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '1~4 pin' }
                ],
                details:`A zirconia based electrochemical oxygen sensor that detects the oxygen concentration in exhaust gas in real time and sends the information to the ECU to control the air-fuel mixture ratio.

Sensor type: Zirconia based electrochemical oxygen sensor
Operating voltage: DC 12V signal voltage 0 to 1V
Output voltage range: 0.1V lean mixture to 0.9V rich mixture
Operating temperature: 300°C to 900°C heater integrated
Response time: ≤100 ms
Heater resistance: Approximately 6 to 12 Ω at 20°C
Connector type: 1 to 4 pin
Output signal type: Analog voltage or wideband type`
            },
            'tps': { 
                category: 'Sensor', 
                title: 'Throttle Position Sensor', 
                img: 'assets/7.png', 
                desc: 'A sensor that detects the opening degree of the throttle valve and sends the information to the ECU', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40℃ ~ +145℃' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67 or higher' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '2 or 3 pin' }
                ],
                details:`A sensor that detects the opening degree of the throttle valve and sends the information to the ECU. This information is a critical input used to control fuel injection timing ignition timing and shift timing.

Sensor type: Contact type or Hall Effect Sensor
Operating voltage: DC 5V ±0.1V
Output voltage range: 0.5V to 4.5V
Output signal: Linear Output Potentiometer
Operating temperature: −40°C to +145°C
Ingress protection: IP67 or higher
Response time: ≤5 ms
Connector type: 2 pin or 3 pin`
            },
            'knock-sensor': { 
                category: 'Sensor', 
                title: 'Knock Sensor', 
                img: 'assets/14.png', 
                desc: 'A sensor that detects abnormal combustion knocking inside the engine and sends the information to the ECU', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +145 °C' },
                    { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Voltage', value: 'Approx. 0.1 to 4.9 V' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '2 pin' }
                ],
                details:`A sensor that detects abnormal combustion knocking inside the engine and sends the information to the ECU allowing early detection of knocking and enabling ignition timing control to prevent engine damage and power loss.

Sensor type: Piezoelectric
Operating voltage: DC 5V
Output signal: Vibration frequency based analog voltage signal
Detection frequency range: 5 to 15 kHz
Output voltage range: Approximately 0.1 to 4.9 V
Operating temperature: -40 °C to +145 °C
Mounting type: Bolt fastening type
Connector type: 2 pin`
            },
            'idle-valve': { 
                category: 'Sensor', 
                title: 'Idle Speed Control Valve', 
                img: 'assets/13.png', 
                desc: 'A valve that adjusts airflow according to ECU control signals during engine idling to maintain a stable idle speed', 
                specs:[
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +145 °C' },
                    { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 10ms' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '4 pin' }
                ],
                details:`A valve that adjusts airflow according to ECU control signals during engine idling to maintain a stable idle speed. It regulates the amount of air entering the engine during idle to keep the engine speed constant allowing the engine to operate stably even when the accelerator pedal is not pressed.

Operating type: Stepper motor driven valve
Operating voltage: DC 12V
Control signal: Pulse input
Valve stroke: Approximately 8 to 12 mm
Response time: ≤10 ms
Operating temperature: -40 °C to +145 °C
Connector type: 4 pin
					`
            },
            // Actuators
            // Actuators
            'bldc-motor': {
                category: 'Actuator', title: 'BLDC Motor', img: 'assets/25.png',
                desc: 'High-efficiency brushless DC motor designed for precise control and durability in automotive applications.',
                specs: [
                    { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +125 °C' },
                    { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP65+' },
                    { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Voltage', value: '12V / 24V / 48V' }
                ],
                details: `A high efficiency motor with a brushless structure that minimizes friction loss and electrical noise and enables precise control providing high power density and long service life for applications such as vehicle fans pumps and actuators.

Supply voltage: DC 12V / 24V / 48V
Rated power: 50W to 1 kW depending on model
Rated speed: 1000 to 6000 rpm
Control type: Hall sensor feedback / sensorless control PWM FOC
Efficiency: ≥85%
Torque characteristics: Flat torque curve high output low vibration
Operating temperature: -40 °C to +125 °C
Protection rating: IP65 or higher
Bearing type: High precision ball bearing
Connector type: Custom multi pin connector`
            },
            'digital-shift': {
                category: 'Actuator', title: 'Digital-Electric Shift Control Actuator', img: 'assets/22.png',
                desc: 'An actuator that electronically controls gear shifting in automatic transmissions and switches 4WD transfer case modes such as 2H 4H and 4L',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +145 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67 or higher' },
                     { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 500ms' }
                ],
                details: `An actuator that electronically controls gear shifting in automatic transmissions and switches 4WD transfer case modes such as 2H 4H and 4L.

Drive type: DC or BLDC motor with gear reduction mechanism
Operating voltage: DC 12V or 24V
Output torque: 20 to 60 N·m depending on specification
Control type: Digital signal control Shift by Wire
Position detection: Built in Hall sensor or potentiometer
Response time: ≤500 ms
Operating temperature: -40 °C to +145 °C
Ingress protection: IP67 or higher
Connector type: Multi pin connector 4 to 8 pin`
            },
            'ac-motor': {
                category: 'Actuator', title: 'AC Motor', img: 'assets/24.png',
                desc: 'An electric motor that generates rotational motion using AC power and provides high durability and stable performance for HVAC systems',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-20 °C ~ +80 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'Protection', value: 'IP54 ~ IP65' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: 'Custom / lead wire' }
                ],
                details: `An electric motor that generates rotational motion using AC power and provides high durability and stable performance for HVAC systems industrial automation and automotive drive systems.

Supply voltage: AC 100V to 240V
Rated power: 10W to 500W depending on model
Rated speed: 1000 to 3600 rpm
Rotation direction: Forward and reverse bidirectional control
Insulation class: Class B or Class F
Protection rating: IP54 to IP65
Operating temperature: -20 °C to +80 °C
Connector type: Custom connector or lead wire output`
            },
            'fan-clutch': {
                category: 'Actuator', title: 'Electronic Fan Clutch Actuator', img: 'assets/21.png',
                desc: 'An electronic actuator that controls the rotational speed of the engine cooling fan',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +145 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP65 or higher' },
                     { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 300ms' }
                ],
                details: `An electronic actuator that controls the rotational speed of the engine cooling fan. Unlike conventional viscous fan clutches that operate mechanically according to temperature this actuator receives electrical control signals from the ECU and precisely regulates the fan clutch improving cooling efficiency reducing noise and enhancing fuel economy.

Operating type: Electronic drive control
Control signal: PWM signal ECU controlled
Supply voltage: DC 12V or 24V
Operating temperature: -40 °C to +145 °C
Response time: ≤300 ms
Clutch fluid: Silicone oil
Bearing type: High temperature resistant ball bearing
Ingress protection: IP65 or higher`
            },
            '4wd-geared': {
                category: 'Actuator', title: '4WD Geared Actuator', img: 'assets/23.png',
                desc: 'A drive unit that shifts the gears inside the transfer case in an electronic 4WD system',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +145 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67' },
                     { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 300ms' }
                ],
                details: `A drive unit that shifts the gears inside the transfer case in an electronic 4WD system. When the driver selects 2H 4H or 4L mode the ECU sends an electrical signal and this actuator physically moves the gear to engage the selected mode.

Operating voltage: DC 12V or 24V
Drive type: DC or BLDC motor with gear reduction mechanism
Output torque: 5 to 50 N·m depending on specification
Response time: ≤300 ms
Position detection: Hall sensor or potentiometer
Control type: Voltage control or PWM ECU control
Operating temperature: -40 °C to +145 °C
Ingress protection: IP67
Connector type: 2 pin 3 pin or multi pin`
            },
            'hidden-door-handle': {
                category: 'Actuator', title: 'Hidden Door Handle Actuator', img: 'assets/hidden_door_handle.png',
                desc: 'An integrated hidden handle flush with the door that automatically protrudes when opening, reducing air resistance and providing a premium design with enhanced security',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +85 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67' },
                     { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 500ms' }
                ],
                details: `An integrated hidden handle flush with the door that automatically protrudes when opening, reducing air resistance and providing a premium design with enhanced security.

Key Features:
• Aerodynamic Design: Flush-mounted handle reduces air resistance for improved fuel efficiency
• Premium Aesthetics: Seamless integration with vehicle body for a sleek, modern appearance  
• Enhanced Security: Handle retracts and locks when vehicle is secured
• Smart Key Integration: Automatic deployment when smart key is detected nearby
• Weather Protection: IP67 rated for all-weather operation

Applications: Electric vehicles, luxury vehicles, sports cars, modern sedans`
            },
            // Controllers
            'proximity': {
                category: 'Controller', title: 'Smart Electronic Proximity Sensor', img: 'assets/26.png',
                desc: 'A non contact sensor that detects the proximity of an object using magnetic capacitive or ultrasonic principles',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +125 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'Protection', value: 'IP67' },
                     { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 1ms' }
                ],
                details: `A non contact sensor that detects the proximity of an object using magnetic capacitive or ultrasonic principles.

Supply voltage: DC 5V to 24V
Detection distance: 1 mm to 30 mm
Detection type: Magnetic inductive capacitive ultrasonic
Output signal: Digital or analog voltage output
Response time: ≤1 ms
Operating temperature: -40 °C to +125 °C
Communication interface optional: UART CAN LIN I²C
Protection rating: IP67`
            },
            'flush-handle': {
                category: 'Controller', title: 'Flush Door Handle Control Unit', img: 'assets/29.png',
                desc: 'A control unit that automatically deploys and retracts the door handle based on smart key signals proximity detection and vehicle lock status',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>', label: 'Comm. Interface', value: 'CAN / LIN / UART' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +125 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'IP Rating', value: 'IP67' }
                ],
                details: `A control unit that automatically deploys and retracts the door handle based on smart key signals proximity detection and vehicle lock status.

Supply voltage: DC 12V ±10%
Drive type: BLDC motor drive with built in position feedback sensor
Communication interface: CAN LIN UART
Control functions: Door handle deployment and retraction position detection safety cut off
Protection functions: Overcurrent overvoltage overheating protection
Response time: ≤300 ms
Operating temperature: -40 °C to +125 °C
Ingress protection: IP67`
            },
            'smart-key': {
                category: 'Controller', title: 'Smart Keyless Entry', img: 'assets/27.png',
                desc: 'An electronic control module that uses RF communication and encryption technology to perform vehicle door unlocking and ignition control',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +125 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>', label: 'Protection', value: 'EMC / ESD / IP65' },
                     { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Resp. Time', value: '≤ 100ms' }
                ],
                details: `An electronic control module that uses RF communication and encryption technology to perform vehicle door unlocking and ignition control.

Supply voltage: DC 12V
Communication type: RF wireless communication 433 MHz / 315 MHz
Encryption type: AES / Rolling Code secure communication
Operating distance: Approximately 1 to 3 m
Response speed: ≤100 ms
Input output interface: Door lock relay ignition relay RF receiving antenna
Operating temperature: -40 °C to +125 °C
Protection rating: EMC / ESD / IP65 level
Processor: Built in 32 bit MCU supporting low power standby mode`
            },
            'tcu': {
                category: 'Controller', title: 'Transmission Control Unit', img: 'assets/28.png',
                desc: 'A control unit that optimally distributes driving power between the front and rear wheels to enhance driving stability and traction',
                specs: [
                     { icon: '<svg viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>', label: 'Op. Temp', value: '-40 °C ~ +125 °C' },
                     { icon: '<svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>', label: 'Processor', value: '32-bit MCU' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Connector', value: '20~30 pin' }
                ],
                details: `A control unit that optimally distributes driving power between the front and rear wheels to enhance driving stability and traction.

Processor: 32 bit microcontroller
Memory: Flash ROM 512 kb to 2 MB RAM 64 kb to 256 kb
Input output: Analog digital input PWM output CAN LIN communication
Supply voltage: DC 9V to 16V
Protection circuit: Built in overvoltage overcurrent and reverse polarity protection
Operating temperature: -40 °C to +125 °C
Connector: 20 to 30 pin`
            },
            'smart-hvac': {
                category: 'Controller', title: 'Multi-purpose, high-efficiency, energy-saving temperature and humidity control system', img: 'assets/30.png',
                desc: 'A multi purpose high efficiency energy saving temperature and humidity control system for HVAC applications used in automotive and agricultural industries',
                 specs: [
                     { icon: '<svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>', label: 'Power', value: 'AC 220V, 50/60Hz' },
                     { icon: '<svg viewBox="0 0 24 24"><path d="M9 3v18M15 3v18M3 9h18M3 15h18"></path></svg>', label: 'Type', value: 'Wall-mounted box' },
                     { icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>', label: 'Output Channels', value: '3 channel' }
                ],
                details: `A multi purpose high efficiency energy saving temperature and humidity control system for HVAC applications used in automotive and agricultural industries.

Power supply: AC 220V 50/60Hz
Type: Wall mounted control enclosure dust and moisture resistant case
Display: LED digital display
Output channels: 3 channel
Protection functions: Overcurrent cut off sensor fault alert power shutoff switch
Display items: Temperature humidity set value operating status power status
Energy optimization: Temperature and humidity linked energy efficiency control
Fan modes: Strong medium weak and natural wind mode built in`
            }
        };

        window.openProductModal = function(productId) {
            const data = productData[productId];
            if (!data) return;
            
            document.getElementById('pModalCategory').textContent = data.category;
            document.getElementById('pModalTitle').textContent = data.title;
            
            // ONLY DETAILS, NO DESC
            // MERGE DESC AND DETAILS (User requested to hide DESC in modal)
            let fullDesc = ''; 
            if(data.details) {
                fullDesc = data.details;
            }
            document.getElementById('pModalDesc').textContent = fullDesc;
            
            document.getElementById('pModalImg').src = data.img;
            
            // Specs
            const specsContainer = document.getElementById('pModalSpecs');
            specsContainer.innerHTML = '';
            
            data.specs.forEach(s => {
                const item = document.createElement('div');
                item.className = 'spec-item';
                item.innerHTML = `
                    <div class="spec-icon-circle">${s.icon}</div>
                    <div class="spec-label">${s.label}</div>
                    <div class="spec-value">${s.value}</div>
                `;
                specsContainer.appendChild(item);
            });
            
            const modal = document.getElementById('productModal');
            modal.classList.add('open');
            document.body.style.overflow = 'hidden';
        }
        
        window.closeProductModal = function() {
            document.getElementById('productModal').classList.remove('open');
            document.body.style.overflow = 'auto'; // Restore scroll
        }

        // Lightbox Logic
        window.openLightbox = function(src) {
            const lb = document.getElementById('imgModal');
            const lbImg = document.getElementById('modalImg');
            lbImg.src = src;
            lb.classList.add('open');
        }
        window.closeModal = function() {
            document.getElementById('imgModal').classList.remove('open');
        }

        // Scroll
        let isScroll = false;
        window.addEventListener('wheel', e => {
            if(window.innerWidth <= 1100) return; // Disable sticky scroll on Tablet/Mobile
            if(document.getElementById('productModal').classList.contains('open')) return;
            if(document.getElementById('imgModal').classList.contains('open')) return;
            if(Math.abs(e.deltaY) < 30 || isScroll) return;
            isScroll = true;
            if(e.deltaY > 0) go(current+1);
            else go(current-1);
            setTimeout(()=>isScroll=false, 800);
        });
        window.addEventListener('keydown', e => {
            if(e.key==='ArrowDown') go(current+1);
            if(e.key==='ArrowUp') go(current-1);
            if(e.key==='Escape') { 
                // Priority: Close Lightbox first, then Product Modal
                if(document.getElementById('imgModal').classList.contains('open')) {
                    closeModal();
                } else if(document.getElementById('productModal').classList.contains('open')) {
                    closeProductModal(); 
                } else {
                    closeModal(); // Failsafe
                }
            }
        });

        // Initialize state from storage OR URL
        const savedIndex = sessionStorage.getItem('currentSlideIndex');
        const urlParam = new URLSearchParams(window.location.search).get('slide');

        if (urlParam) {
            current = parseInt(urlParam, 10);
        } else if (savedIndex !== null) {
            current = parseInt(savedIndex, 10);
        }
        
        // Safety Clamp
        if(isNaN(current) || current < 0) current = 0;
        if(current >= slides.length) current = slides.length - 1;

        updateState();

        // === LANGUAGE SWITCHER SYNC ===
        // Logic moved to updateState() to avoid event listener conflicts

    </script>
    <script>
        // Mobile Toggle
        function toggleMobile() {
            const nav = document.getElementById('mobileNav');
            nav.classList.toggle('open');
            const btn = document.querySelector('.mobile-menu-btn');
            btn.innerHTML = nav.classList.contains('open') ? '✕' : '☰';
        }

        // Touch Swipe Logic
        let touchstartX = 0;
        let touchstartY = 0;
        let touchendX = 0;
        let touchendY = 0;

        document.addEventListener('touchstart', e => {
            touchstartX = e.changedTouches[0].screenX;
            touchstartY = e.changedTouches[0].screenY;
        }, {passive: false});

        document.addEventListener('touchend', e => {
            if(document.getElementById('productModal').classList.contains('open')) return;
            if(document.getElementById('mobileNav').classList.contains('open')) return;
            // Disable swipe if zooming (pinch) - naive check
            if(e.changedTouches.length > 1) return;

            touchendX = e.changedTouches[0].screenX;
            touchendY = e.changedTouches[0].screenY;
            handleGesture();
        }, {passive: false});

        function handleGesture() {
            const xDiff = touchendX - touchstartX;
            const yDiff = touchendY - touchstartY;

            // Threshold for Horizontal Swipe
            if (Math.abs(xDiff) > Math.abs(yDiff) && Math.abs(xDiff) > 60) {
                if (xDiff < 0) go(current + 1); // Left Swipe = Next
                if (xDiff > 0) go(current - 1); // Right Swipe = Prev
            }
        }

        // --- THEME TOGGLE LOGIC ---
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            const isLight = document.body.classList.contains('light-mode');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        }

        // Initialize theme on load
        (function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.remove('light-mode');
            } else {
                // Default to Light Mode if null or 'light'
                document.body.classList.add('light-mode');
            }
        })();
    </script>
    
    <!-- Theme Toggle Button -->
    <div class="theme-toggle" onclick="toggleTheme()">
        <div class="toggle-ball"></div>
    </div>
</body>
</html>
